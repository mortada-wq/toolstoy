(self.modernJsonp=self.modernJsonp||[]).push([["50095"],{977110(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSSCarouselModule_parentPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};r.hash="d1542775568248acbce5a79453f4dffb";let i=r},599016(e,t,n){var r,i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CSSCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[i],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};a.hash="dee347ef77ae345e076b08494d4b664f";let l=a},950377(e,t,n){var r;n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};i.hash="8b6ce790922ff8b900b4ae18b06b7c11";let a=i},836664(e,t,n){n.d(t,{Q:()=>b,x:()=>x});var r=n(859471),i=n(393807),a=n(702949),l=n(224723),o=n(106301),s=n(392026),u=n(149562),c=n(156508),d=n(427403),m=n(319491),p=n(987628),g=n(33658),h=n(62963),y=n(307424),f=n(562615);let _=(e,t,n)=>{let r=t?.find(({action:e})=>e?.filter?.product_filter_type===n);if(!r)return;let i=(0,h.A)(y.A,!0)(r),a=e.findIndex(({action:e})=>e?.filter?.productFilterType===n);e[a]?e[a]=i:e.push(i)},w=(e,t,n,r)=>{let i=r.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(i?.action?.filter){let e=i.action.filter.filterOptions;i.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[n]&&t.split(",").includes(String(e[n]))).map(e=>({...e,selected:!0})):[]}},{Provider:S,get:x}=(0,p.A)("OneBarProductFilters");function b({children:e}){let[t,n]=(0,r.useState)([]),[p,h]=(0,r.useState)(null),y=function(){let{scope:e}=(0,o.u)();return[l.cO.BOARDS,l.cO.PINS_BUYABLE,l.cO.PINS_VIDEO,l.cO.USERS].includes(e)}(),x=(0,d.A)(),b=(0,u.A)(),A=(0,i.A)(),v=(0,a.A)(),I=(0,c.A)(),T=(0,r.useCallback)(({oneBarModules:e,baseCacheKey:r})=>{let i=e?.filter(({module_type:e})=>17===e||0===e);if(!i||i?.length===0||!r)return;let a=r!==p,l=a?[]:t;(a||!y)&&_(l,i,4),(a||!x)&&_(l,i,1),(a||!b)&&_(l,i,0),(a||!A)&&_(l,i,3),(a||!v)&&_(l,i,6),(a||!I)&&[7,8,9].forEach(e=>{_(l,i,e)}),(0,g.Ay)(l,t)||(n(l),h(r))},[t,A,v,y,b,I,x,p]),E=(0,s.A)(),{priceMax:k,priceMin:O,scope:R,brands:P,onSale:C,colors:N,domains:D}=(0,o.u)();(0,r.useEffect)(()=>{if(!E||0===t.length)return;let e=(0,m.A)(t);if(R!==l.cO.PINS){let t=(0,l.Ef)(R),n=e.find(({moduleType:e})=>0===e);n?.action?.filter&&(n.action.filter.appliedFilterOptions=[...n.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:n}=e;return{searchType:n,selected:n===t}}))}if("string"==typeof k||"string"==typeof O){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(O)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(k)}:null].filter(Boolean))}w(new Set([3]),P,"stringValue",e),w(new Set([6]),N,"stringValue",e),w(new Set([0]),D,"stringValue",e),w(new Set([7,8,9]),C,"numericValue",e),(0,g.Ay)(e,t)||n(e)},[t,E,k,O,R,P,N,D,C]);let M=(0,r.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:T}),[t,T]);return(0,f.jsx)(S,{value:M,children:e})}},306964(e,t,n){n.d(t,{A:()=>l});var r=n(979638),i=n(11925),a=n(307079);function l(){let e=(0,r.zy)(),t=(0,r.Zp)();return function(n){let r=(0,a.A)();r.filter_location=n,t((0,i.A)(e.pathname,r),{replace:!0})}}},798902(e,t,n){n.d(t,{A:()=>d,Y:()=>c});var r=n(979638),i=n(693154),a=n(601185),l=n(890922),o=n(224723),s=n(11925),u=n(307079);let c=["brands","colors","commerce_only","domains","on_sale","price_max","price_min"];function d(){let e=(0,r.Zp)(),t=(0,r.zy)(),{checkExperiment:n}=(0,a.A)(),{scope:d}=(0,r.g)(),m=(0,i.A)(),{isAuth:p}=m,g=p?m.country:"";return function(r){let i=(0,u.A)();i.rs=l.I.SHOPPING_FILTER,r.forEach(({key:e,value:t})=>{""!==t?i[e]=t:delete i[e]}),("US"===g||n("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&d!==o.cO.PINS&&!c.some(e=>"commerce_only"!==e&&e in i)&&delete i.commerce_only,e((0,s.A)(t.pathname,i))}}},393807(e,t,n){n.d(t,{A:()=>a});var r=n(979638),i=n(803489);function a(){return!!(0,i.A)((0,r.zy)().search).brands}},702949(e,t,n){n.d(t,{A:()=>l});var r=n(979638),i=n(601185),a=n(803489);function l(){let{checkExperiment:e}=(0,i.A)(),t=(0,r.zy)(),{colors:n}=(0,a.A)(t.search);return!!n&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},392026(e,t,n){n.d(t,{A:()=>i});var r=n(601185);function i(){let{checkExperiment:e}=(0,r.A)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},149562(e,t,n){n.d(t,{A:()=>a});var r=n(979638),i=n(803489);function a(){return!!(0,i.A)((0,r.zy)().search).domains}},427403(e,t,n){n.d(t,{A:()=>a});var r=n(979638),i=n(803489);function a(){let e=(0,r.zy)(),{price_max:t,price_min:n}=(0,i.A)(e.search);return!!(n??t)}},485647(e,t,n){n.d(t,{A:()=>u});var r=n(61163),i=n(859471),a=n(963522),l=n(154508),o=n(678358),s=n(562615);function u({actionButton:e,collapsed:t,disabled:n,displayViewState:u,forceTappableHeader:c,headerHeight:d,headerPaddingX:m,headerPreview:p,heading:g,icon:h="chevron-down",onClick:y,showArrow:f,surface:_}){(0,i.useEffect)(()=>{(0,r.A)("CollapsableHeader","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CollapsableHeader.tsx")},[]);let{closeupWithinMasonryEnabled:w,peekCloseupEnabled:S,viewportSize:x}=(0,o._G)();if(!c&&null===u){let e,t;return e=(0,l.Kd)({peekCloseupEnabled:S,viewportSize:x,surface:_}),t=(0,s.jsx)(a._Y,{accessibilityLevel:2,align:"start",id:"comments-heading",size:e?"300":"400",children:g}),e?(0,s.jsx)(a.az,{marginBottom:4,children:t}):t}let b=(0,s.jsx)(a.az,{marginBottom:!t&&S?4:void 0,children:(0,s.jsxs)(a.so,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:d,justifyContent:"between",children:[(0,s.jsx)(a.so.Item,{flex:"shrink",children:(0,s.jsx)(a._Y,{accessibilityLevel:2,align:"start",color:n?"disabled":"default",id:"comments-heading",size:"300",children:g})}),(0,s.jsx)(a.so.Item,{flex:"shrink",children:(0,s.jsxs)(a.so,{alignItems:"center",direction:"row",gap:{row:1,column:0},children:[t&&p,(f||w)&&(0,s.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{transform:t?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:100*!!f,children:(0,s.jsx)(a.In,{accessibilityLabel:"",color:!f||n?"disabled":"default",dataTestId:"collapse-button",icon:h})})]})}),e&&(0,s.jsx)(a.so.Item,{flex:"grow",children:(0,s.jsx)(a.so,{justifyContent:"end",children:e})})]})});return(0,s.jsx)(a.az,{paddingX:m,children:y?(0,s.jsx)(a.Rp,{disabled:!f||n,onTap:y,children:b}):b})}},679051(e,t,n){n.d(t,{A:()=>r});let r=175},733577(e,t,n){n.d(t,{Tg:()=>r,_c:()=>o,jv:()=>i,sU:()=>a,zu:()=>l});let r={x:0,y:0,w:0,h:0},i=`
  .preview-crop-area-enter {
    opacity: 0;
  }

  .preview-crop-area-enter-active {
    opacity: 1;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit {
    opacity: 1;
  }

  .preview-crop-area-exit-active {
    opacity: 0;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit-done {
    opacity: 0;
  }
`,a={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},l="cropper-background",o="cropper-cropbox"},881541(e,t,n){n.d(t,{A:()=>x});var r,i,a=n(61163),l=n(859471);n(825193);var o=n(963522),s=n(586733),u=n(284387),c=n(535273),d=n(17881),m=n(377917),p=n(78284),g=n(704633),h=n(257361),y=n(971289),f=n(385800),_=n(562615);let w=(void 0!==r||(r=n(977110)).hash&&"d1542775568248acbce5a79453f4dffb"!==r.hash&&console.error("The definition of 'CSSCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),S=(void 0!==i||(i=n(599016)).hash&&"dee347ef77ae345e076b08494d4b664f"!==i.hash&&console.error("The definition of 'CSSCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function x({accessibilityLabelledBy:e,auxData:t,component:n,contentVisibleItemCountOverride:r,disableHeader:i,getProductTagAuxData:x,headerDisplayOptions:b,heading:A,itemRepSiblingNodeFactories:v,items:I,itemWidth:T,itemWidthHeightRatio:E,parentPinKey:k,renderItem:O,saveButtonOptions:R,showBorder:P,showMarkers:C=!1,showNavigationButtons:N=!0,storyKey:D,subtitle:M,surface:L,view:j=3,viewParameter:F,width:z}){(0,l.useEffect)(()=>{(0,a.A)("CSSCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/CSSCarouselModule.tsx")},[]);let{logContextEvent:H}=(0,s.o)(),K=(0,y.Ay)(),$=(0,y.bh)(K),Y=(0,c.A)(w,k),q=(0,c.A)(S,D),B=q?.objects?[...q.objects]:[],U=B.map(e=>"Pin"===e.__typename?e.entityId:null),W=(0,l.useMemo)(()=>{let e=q?.storyType?{story_type:q.storyType}:void 0;return e&&t?{...t,...e}:e??t},[q?.storyType,t]),G=$?236:175,Q=T??G,V=q.displayOptions?.contentDisplay?.itemWidthHeightRatio??E??1,{web:Z,mobile:X}=q.displayOptions?.contentDisplay?.contentVisibleItemCount??{},J=r??($?Z:X),ee=!i&&(q?.storyTitle||A||M),{showModuleBorder:et,showExtraSmallSubtitle:en,headerMarginBottom:er,isFixedWidthSlides:ei,moduleBorderStyle:ea}=(0,g.A)({storyKey:q,styleOverrides:{showModuleBorder:P}}),el=!ei&&!!J&&!T,eo=el?"100%":Q,es=(0,l.useCallback)(({currentIndex:e,nextIndex:t})=>{if(void 0===e||e===t)return;let r=Number(U?.[e]);H({aux_data:W,event_type:108,component:n,view_type:j,view_parameter:F,event_data:{pinCarouselSlotEventData:{carouselSlotId:Number.isFinite(r)?r:void 0,carouselSlotIndex:e,toCarouselSlotIndex:t}}})},[W,n,U,H,j,F]),eu=(0,l.useCallback)(({item:e,index:t})=>{let r=()=>{let r;if(O)return O({item:e,index:t});if(t===B.length-1&&q.action?.text&&q.action?.url&&(r=q.action,r?.text&&r?.url&&p.$$.has(r?.location))){let t="Pin"===e.__typename&&e.images_236x?.url;return t&&(0,_.jsx)(d.A,{auxData:W,buttonText:q.action?.text,component:n,contentIds:q.contentIds??void 0,element:179,imageWidth:eo,previewImageSrc:t,storyId:q.storyId??"",storyType:q.storyType,url:q.action.url,view:j,viewParameter:F})}let i="Pin"===e.__typename?x?.(e):void 0;return(0,_.jsx)(m.A,{auxData:{...i,...W},boardKey:null,component:n,imageWidth:eo,isInDesktopCarousel:$,isInMobileCarousel:!$,item:null,itemWidthHeightRatio:V,parentPinKey:Y,pinKey:"Pin"===e.__typename?e:null,productTagParentPinId:Y?.entityId,relatedInterestKey:null,saveButtonOptions:R,slotIndex:t,storyKey:q,surface:L,view:j,viewParameter:F})},i=v?.[t];if(i){let e=r();return(0,_.jsx)(f.e,{children:t=>(0,_.jsx)(o.az,{position:"relative",children:(0,_.jsxs)(l.Fragment,{children:[e,i(t)]})})})}return r()},[B.length,n,x,$,v,eo,V,W,Y,O,R,q,L,j,F]);return(0,_.jsxs)(o.az,{borderColor:et?"decorative":void 0,borderWidth:et?ea:void 0,dangerouslySetInlineStyle:{__style:{"--carousel-item-width":`${Q}px`,"--story-item-width-height-ratio":`${1/V}`,...el&&{"--carousel-item-count":`${J}`}}},direction:"column",display:"flex",rounding:et?400:void 0,width:z??"100%",children:[ee&&(0,_.jsx)(o.az,{marginStart:6,marginTop:4,children:(0,_.jsx)(h.A,{auxData:W,headerDisplayOptions:b,marginBottomOverride:er,showExtraSmallSubtitle:en,storyKey:q,view:j,viewParameter:F})}),(0,_.jsx)(o.az,{position:"relative",children:(0,_.jsx)(u.A,{accessibilityLabelledBy:e,items:I??B,mode:"multi",onIndexChange:es,renderItem:eu,showNavigationButtons:N,showScrollMarkers:C})})]})}},803415(e,t,n){n.d(t,{Ay:()=>l,Jt:()=>a,cq:()=>r});let r={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year",NUMERIC_WITH_TIME:"numeric_with_time",NUMERIC_WITH_TIME_TIMEZONE:"numeric_with_time_timezone"},i=function(e){switch(e){case r.YEAR:return{year:"numeric"};case r.LONG:return{year:"numeric",month:"long",day:"numeric"};case r.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case r.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case r.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case r.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case r.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case r.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.MONTH_DAY:return{month:"long",day:"numeric"};case r.SHORT_MONTH:return{month:"short"};case r.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case r.DAY:return{day:"numeric"};case r.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case r.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case r.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case r.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.TIME:return{hour:"numeric",minute:"2-digit"};case r.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.HOUR:return{hour:"numeric"};case r.NUMERIC_WITH_TIME:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"};case r.NUMERIC_WITH_TIME_TIMEZONE:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};default:throw Error('invalid dateFormatType "'+e+'"')}};function a(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function l(e,t,n,r=!0,o){let s=i(n);return r?s.timeZone="UTC":o&&(s.timeZone=o),a()||(s.calendar="gregory"),new Intl.DateTimeFormat(e,s).format(t)}},219053(e,t,n){let r;n.d(t,{A:()=>y});var i=n(825193),a=n(669897),l=n(61515),o=n(679902),s=n(969462),u=n(7819);let c=(0,o.A)(),d=new Set,m="";"u">typeof window&&(r=new a.Environment({network:a.Network.create((0,u.b3)(()=>({"x-pinterest-correlation-id":m}))),store:new a.Store(new a.RecordSource)}));let p=function({query:e,variables:t,correlationId:n}){!r||d.has(n)||(d.add(n),m=n,(0,a.fetchQuery)(r,(0,a.getRequest)(e),t,{fetchPolicy:"network-only"}))};var g=n(859471),h=n(33658);let y=function({strategy:e,query:t,variables:n,options:r,useGetLegacyResource:o,useGetLegacyPaginatedResource:u,useGetLegacyData:d}){let m;if("GraphQL"===e){let e=(0,a.getRequest)(t);return(0,i.useLazyLoadQuery)(e,n,r)}if(null!=o&&null!=u&&null!=d)throw Error(`Only pass one of those calls from the list: 
[useGetLegacyResource, useGetLegacyPaginatedResource, useGetLegacyData]
to useLazyLoadQueryOrLegacy`);let{actualVariables:y,refetch:f}=function(e,t){let n=(0,g.useRef)(e),r=(0,g.useRef)(null),[,i]=(0,g.useState)({}),a=(0,h.Ay)(e,n.current)?null==r.current?n.current:r.current:(n.current=e,r.current=null,n.current),l=(0,g.useCallback)(e=>{let n={...a,...e||{}};(0,h.Ay)(a,n)&&t(),r.current=n,i({})},[a,t]);return{actualVariables:a,refetch:l}}(n,()=>{m()}),_=(0,a.getRequest)(t),w=null;if("LegacyWithShadowGraphQL"===e){var S;let e;S=_.operation.name,e=function(e,t=!0){let n=0;if(0===e.length)return n;for(let t=0;t<e.length;t+=1)n=(n<<5)-n+e.charCodeAt(t)|0;return t?btoa(n.toString(10)):n}(`${S}-${JSON.stringify((0,s.A)(y))}`),p({query:t,variables:y,correlationId:w=`${e}-${c}`})}if(null!=d){let e=d(y,{correlationId:w});if(!e)return null;let{selections:n}=(0,a.getRequest)(t).fragment;return m=()=>{},(0,l.A)(n,{kind:"LegacyData",singularLegacyData:e,refetchInfo:{refetch:f},paginationInfo:null})}if(null!=o){let e=o(y,{correlationId:w}),{data:n}=e;if(m=e.refresh,null==n)return null;let{selections:r}=(0,a.getRequest)(t).fragment;return(0,l.A)(r,{kind:"LegacyData",singularLegacyData:n,refetchInfo:{refetch:f},paginationInfo:null})}if(null!=u){let e=u(y,{correlationId:w}),{data:n,isFetching:r,isAtEnd:i,fetchMore:o}=e;if(m=e.refresh,null==n)return null;let{selections:s}=(0,a.getRequest)(t).fragment;return(0,l.A)(s,{kind:"PaginationLegacyData",paginationLegacyData:n,refetchInfo:{refetch:f},paginationInfo:{isLoadingNext:r,hasNext:!i,loadNext:o}},null)}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},657381(e,t,n){n.d(t,{MZ:()=>l,O5:()=>o,WH:()=>r,iA:()=>a,jy:()=>i,mQ:()=>s});let r=157.33333333333334,i=(e=!1,t=!1)=>e?t?16:12:24,a=({defaultItemWidth:e,contentVisibleItemCount:t,gap:n,moduleWidth:r})=>t||r?(r-((Math.ceil(t)+1)*n+8))/t:e,l=(e,t,n)=>{let r=n?3:2,i=t?5:r,a=t?236:175,l=t?16:8,o=a*i+l*i-(t||!t&&n?12:6);if(!e)return o;for(let t=i;t>=2;t-=1)if(e>o)break;else o=a*t+l*t;return o};function o(e){let t=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return t?{width:t.width,height:t.height}:{width:0,height:0}}function s(e){return!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)}},901738(e,t,n){n.d(t,{A:()=>o});var r,i=n(859471);n(825193);var a=n(535273);let l=(void 0!==r||(r=n(950377)).hash&&"8b6ce790922ff8b900b4ae18b06b7c11"!==r.hash&&console.error("The definition of 'useGetNormalizedPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function o({pinKey:e,maxWidth:t}){let n=(0,a.A)(l,e),r=n?.images_564x||n?.images_736x||n?.images_orig||n?.images_474x||n?.images_236x,o=r?.width||1,s=r?.height||1,u=r?.url||"",c=function(e,t,n=564){return e>n&&(t*=n/e,e=n),{width:e,height:t}}(o,s,t);return{getNormalizedPinImage:(0,i.useCallback)(()=>({width:c.width,height:c.height,url:u}),[c.height,c.width,u])}}},413084(e,t,n){n.d(t,{A:()=>p});var r=n(61163),i=n(859471),a=n(963522),l=n(538329),o=n(284247),s=n(562615);function u({category:e,ingredients:t,textSize:n="300"}){return(0,i.useEffect)(()=>{(0,r.A)("Ingredient","/app/packages/recipePin/Ingredient.tsx")},[]),(0,s.jsxs)(a.az,{children:[e&&(0,s.jsx)(a.az,{children:(0,s.jsx)(a.KJ,{size:n,weight:"bold",children:e})}),(0,s.jsx)("ul",{children:t.map((e,t)=>(0,s.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,s.jsx)(a.az,{marginTop:1,children:(0,s.jsxs)(a.KJ,{color:"neutral",size:n,children:["â€¢ ",e.amt||null," ",e.name]})})},t))})]})}var c=n(913846),d=n(750612),m=n(678358);function p({recipeProps:e,marginOverrides:t}){var n;(0,i.useEffect)(()=>{(0,r.A)("RecipeIngredients","/app/packages/recipePin/RecipeIngredients.tsx")},[]);let p=(0,l.A)(),{image:g,name:h,categorizedIngredients:y}=e?.recipe||{},{peekCloseupEnabled:f}=(0,m._G)(),_=0;if(y&&y.length){let e=[];y.forEach(t=>(_+=t.ingredients?.length||0,e.push(t.ingredients)))}let w=f?(n=_,(0,o.A)(p.ngettext('{{ count }} Ingredient', '{{ count }} Ingredients', n, 'closeup.recipePin.heading.ingredientCount', 'Ingredient count on a Pin. count: number of ingredients'),{count:n.toString()})):p._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');return(0,s.jsx)(a.az,{marginBottom:2,marginTop:2,children:(0,s.jsxs)(c.A,{itemType:"https://schema.org/Recipe",children:[(0,s.jsx)("meta",{content:h??void 0,itemProp:"name"}),(0,s.jsx)("meta",{content:g,itemProp:"image"}),(0,s.jsx)(d.A,{heading:w,children:(0,s.jsx)(a.az,{marginTop:4,children:y&&y.map(({category:e,ingredients:n},r)=>{let l=`ingredient-${r}`;return(0,s.jsx)(i.Fragment,{children:(0,s.jsx)(a.az,{marginBottom:t?.ingredientMarginBottom||4,children:(0,s.jsx)(u,{category:e,ingredients:n??[],textSize:"300"})})},l)})})})]})})}},913846(e,t,n){n.d(t,{A:()=>l});var r=n(61163),i=n(859471),a=n(562615);let l=e=>{(0,i.useEffect)(()=>{(0,r.A)("RichPinInformation","/app/packages/rich-snippet/RichPinInformation.tsx")},[]);let t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,a.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},306618(e,t,n){n.d(t,{A:()=>i});var r=n(365910);function i(e){let{enteredQuery:t,filters:n,guideAdded:i,query:a,requestParams:l,rs:o,scope:s,selectedOneBarModules:u,user:c,inlineSuggestion:d,multimodalPinId:m}=e;if(!a)return"/";let p={q:a,rs:o,...l};if(n&&(p.filters=n),c&&(p.user=c),u&&(p.selected_one_bar_modules=u),i&&i.term&&(p.add_refine=`${i.term}|guide|word|${i.index}`),t&&(p.entered_query=t),d&&(p.inline_suggestion=d),m&&(p.query_image_pins=m),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,r.A)(p)}`;let g=s;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(g??"")||(g="pins"),g?`/search/${g}/?${(0,r.A)(p)}`:`${window.location.pathname}?${(0,r.A)(p)}`}},11925(e,t,n){n.d(t,{A:()=>r});let r=(e,t)=>{let n=new URL(e,"https://pinterest.com");return n.search=new URLSearchParams(t).toString(),n.toString().substring(n.origin.length)}},566771(e,t,n){n.d(t,{A:()=>r});function r({cropArea:e,cropSource:t,entrypoint:n,requestParams:r,searchQuery:i,surfaceType:a,title:l,trafficSource:o}){let s=[];if(e){let{x:t,y:n,w:r,h:i}=e;t>=0&&n>=0&&r>=0&&i>=0&&s.push(`x=${t}`,`y=${n}`,`w=${r}`,`h=${i}`)}return t&&s.push(`cropSource=${t}`),n&&s.push(`entrypoint=${n}`),a&&s.push(`surfaceType=${a}`),l&&s.push(`full_feed_title=${encodeURIComponent(l)}`),i&&s.push(`q=${i}`),o&&"unknown"!==o&&s.push(`rs=${o}`),r&&s.push(`requestParams=${encodeURIComponent(r)}`),s.length?`?${s.join("&")}`:""}},780291(e,t,n){n.d(t,{A:()=>i});var r=n(566771);function i({cropArea:e,cropSource:t,entrypoint:n,isProductPage:i,pinId:a,requestParams:l,searchQuery:o,surfaceType:s,title:u,trafficSource:c}){let d=(0,r.A)({cropArea:e,cropSource:t,entrypoint:n,requestParams:l,searchQuery:o,surfaceType:s,title:u,trafficSource:c}),m="";return i&&(m="products/"),`/pin/${a}/visual-search/${m}${d}`}},8627(e,t,n){n.d(t,{A:()=>d});var r=n(61163),i=n(859471),a=n(971289),l=n(808571),o=n(994795),s=n(280814),u=n(562615);let c=new Set(["pin-card-hover-overlay","pin-card-hover-overlay-open-legend-wrapper","pin-card-hover-overlay-gradient-full"]);function d({children:e,headerHeightModifier:t}){(0,i.useEffect)(()=>{(0,r.A)("ScrollPinToTopToFeedOnTap","/app/www/ScrollPinToTopToFeedOnTap.tsx")},[]);let n=(0,l.g)(),d=(0,a.qJ)(),m=(0,i.useCallback)(e=>{if(function(e){let{nativeEvent:t}=e;return t instanceof MouseEvent&&(t.metaKey||t.ctrlKey||t.shiftKey||1===t.button)}(e))return;let{target:r}=e;if(r instanceof HTMLElement&&("IMG"===r.tagName||c.has(r.getAttribute("data-test-id")??""))){let e=r.getBoundingClientRect(),i=d?2*n:n,a=e.top+window.scrollY-i-(t??0);window.scrollTo(window.scrollX,a)}},[n,d,t]);return(0,u.jsx)(s.D,{children:(0,u.jsx)(o.A,{dataTestId:"scroll-pin-to-top-to-feed-on-tap",onTouch:m,pressState:"none",children:e})})}},750612(e,t,n){n.d(t,{A:()=>p});var r=n(61163),i=n(859471),a=n(963522),l=n(485647),o=n(586733),s=n(844255),u=n(971289),c=n(168079),d=n(678358),m=n(562615);function p({actionButton:e,auxData:t,children:n,collapseButtonElementType:p,collapseByDefault:g=!0,componentType:h,disabled:y,displayViewState:f,expandButtonElementType:_,forceTappableHeader:w,headerHeight:S,headerPaddingX:x,headerPreview:b,heading:A,icon:v,surface:I,viewParameter:T,viewType:E}){(0,i.useEffect)(()=>{(0,r.A)("CollapsibleLayout","/app/www/closeup/CollapsibleLayout.tsx")},[]);let k=(0,u.qJ)(),{isBot:O}=(0,s._8)(),{logContextEvent:R}=(0,o.o)(),{setIsShoppingModuleExpanded:P}=(0,d._G)(),C=(0,i.useRef)(null),[N,D]=(0,i.useState)(void 0),[M,L]=(0,i.useState)(y||!O&&g||null!=f&&[1,2].includes(f));return(0,c.A)(()=>{let e=C.current,t=null;if(e){let n=()=>{let t=e.scrollHeight,n=e.firstElementChild;D(t+(n?parseInt(window.getComputedStyle(n).marginTop,10):0))};n(),(t=new ResizeObserver(n)).observe(e)}return()=>{t?.disconnect()}}),(0,i.useEffect)(()=>{P&&P(!M)},[]),(0,m.jsxs)(a.so,{dataTestId:"collapsible-layout",direction:"column",gap:4*!k,children:[(0,m.jsx)(l.A,{actionButton:e,collapsed:M,disabled:y,displayViewState:f,forceTappableHeader:w,headerHeight:S,headerPaddingX:x,headerPreview:b,heading:A,icon:v,onClick:()=>{L(!M),P&&P(M),R({aux_data:t,component:h,element:M?_:p,event_type:k?101:102,view_parameter:T,view_type:E})},showArrow:!0,surface:I}),k?(0,m.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${M?"collapsed":"expanded"}`,height:M?"0px":`${N}px`,marginBottom:M?void 0:1,overflow:"hidden",children:(0,m.jsx)(a.az,{ref:C,children:n})}):!M&&(0,m.jsx)(a.az,{children:n})]})}},295593(e,t,n){n.d(t,{A:()=>o});var r=n(61163),i=n(859471),a=n(963522),l=n(562615);function o({children:e,color:t,isDarkMode:n,outlined:o,type:s="bold",rounding:u=400}){return(0,i.useEffect)(()=>{(0,r.A)("OutlinedBox","/app/www/common/OutlinedBox/OutlinedBox.tsx")},[]),(0,l.jsxs)(a.az,{position:"relative",children:[(0,l.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:u,children:e}),o&&(0,l.jsx)(a.az,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:t,type:n}){let r=t?"#fff":"#000",i=t?"#000":"#fff";return"solid"===n?{boxShadow:`inset 0 0 0 2px ${e??r}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}`}:"border"===n?{border:`1px solid ${e??"var(--sema-color-border-selected)"}`,boxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",WebkitBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",MozBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)"}:{boxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${i}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${i}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${i}`}}({color:t,isDarkMode:n,type:s})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:u,top:!0})]})}},106301(e,t,n){n.d(t,{n:()=>m,u:()=>d});var r=n(859471),i=n(979638),a=n(987628),l=n(224723),o=n(971289),s=n(531525),u=n(562615);let{Provider:c,get:d}=(0,a.A)("SearchParams"),m=({children:e,value:t})=>{let n=function(){let e=(0,o.qJ)(),{search:t,pathname:n}=(0,i.zy)(),{scope:r}=(0,i.g)(),a=!r&&n.includes("/_tools/shop");return(0,s.A)({isDesktop:e,scope:a?l.cO.SHOP_TOOL:r??l.cO.PINS,search:t})}(),a=(0,r.useMemo)(()=>({...n,...t}),[n,t]);return(0,u.jsx)(c,{value:a,children:e})}},464224(e,t,n){n.d(t,{P4:()=>r,bP:()=>i,eS:()=>a,zB:()=>l});let r={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},i={CLOSEUP:"closeup"},a={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},l={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},531525(e,t,n){n.d(t,{A:()=>a});var r=n(224723),i=n(803489);function a({isDesktop:e,scope:t,search:n}){let{auto_correction_disabled:a="",b_id:l,brands:o,category:s,colors:u,commerce_only:c="",cover_pin_sig:d,deb_d:m,domains:p,filters:g,guided_search_query:h,inline_suggestion:y,interest_id:f,journey_depth:_,on_sale:w,price_max:S,price_min:x,q:b,query_pin_sigs:A,query_image_pins:v,quiz:I,request_params:T,rs:E,selected_one_bar_modules:k,source_id:O,source_module_id:R,tab:P,top_pin_ids:C,user:N}=(0,i.A)(n),D="true"===c.toLowerCase()&&"shop_tool"!==t?r.cO.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===a.toLowerCase(),brands:o,bubbleId:l,category:s,colors:u,commerceOnly:"true"===c.toLowerCase(),coverPinSig:d,currentlyAppliedFiltersParamTerm:g,debD:m,domains:p,guidedSearchQuery:h,inlineSuggestion:y,interestId:f,journeyDepth:_?parseInt(_,10):void 0,onSale:w,personalizationPinSig:A,placementId:(0,r.my)(D,e),priceMax:S,priceMin:x,query:b,queryImagePins:v,quiz:I,requestParams:T,rs:E,scope:D,selectedOneBarModules:k,sourceId:O,sourceModuleId:R,tab:P||"",topPinIds:C,user:N,viewParameter:(0,r._n)(D),viewType:D===r.cO.SHOP_TOOL?1:2}}},753115(e,t,n){n.d(t,{A:()=>r});function r(e,t){let{group:n}=e("dweb_scroll_pin_to_top_on_tap");return"enabled_all"===n||"employees"===n||n===`enabled_${t}`}},7819(e,t,n){n.d(t,{xz:()=>g,b3:()=>d,Ay:()=>p});var r=n(669897),i=n(148867),a=n(639650),l=n(557704),o=n(523376),s=n(81920);function u(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends Error{constructor(...e){super(...e),u(this,"name","GraphQLFetchError"),u(this,"extraData",{})}}function d(e){let t=!0;async function n(n,r){let u=Date.now(),d=(0,a.q)(),m=document.cookie.match(RegExp("\\b"+i.mh.name+"=.+?($|;)","g")),p=e?e():{},g=function({handler:e,queryName:t,windowIsInFocus:n}){let{searchParams:r}=new URL(window.location.href),i=r.get("force_country"),a=r.get("force_country_from_ip"),s=r.get("force_region_from_ip"),u=r.get("skan_test"),c={};return i&&(c["X-Force-Country"]=i),a&&(c["X-Force-Country-From-IP"]=a),s&&(c["X-Force-Region-From-IP"]=s),u&&(c["X-Pinterest-SKAN-Testing"]=u),e&&(c["X-Pinterest-PWS-Handler"]=e),{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":(0,l.Qm)(),"X-Requested-With":"XMLHttpRequest","X-Pinterest-Source-Url":(0,o.A)(),"X-Pinterest-GraphQL-Name":t,"X-Pinterest-AppState":n?"active":"background",...c}}({handler:d,queryName:n.name,windowIsInFocus:t,...p});try{let e=await fetch("/_/graphql/",{credentials:"include",method:"POST",headers:g,body:JSON.stringify({queryHash:n.id,variables:r})});return(0,s.N9)("pws.graphql.fetchQueryClient.request",Date.now()-u,{sampleRate:1,tags:{handler:d??"unknown",queryName:n.name,status:e.status}}),await e.json()}catch(t){let e=new c(t.message);throw e.stack=t.stack,e.extraData={csrfCookies:m?.join(";")??"unknown",requestHeaders:g},(0,s.GV)("pws.graphql.fetchQueryClient.networkError",{sampleRate:1,tags:{handler:d,queryName:n.name}}),e}}return window.addEventListener("focus",()=>t=!0),window.addEventListener("blur",()=>t=!1),function(e,t){var r,i;let l,o,u,c;return r=e,i=t,u=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let n=Object.keys(t).sort(),r={};for(let i=0;i<n.length;i+=1)r[n[i]]=e(t[n[i]]);return r}({queryID:r.id??r.cacheID,variables:i})),((c=window.__PWS_RELAY_SSR_REQUESTS__?.[u])?(l=(0,a.q)(),o=c.status,(0,s.GV)("pws.graphql.fetchQueryClient.fetchFromSSRCache.hit",{tags:{handler:l??"unknown",queryName:r.name,status:o}}),c.promise.finally(()=>{(0,s.N9)(`pws.graphql.fetchQueryClient.fetchFromSSRCache.${c.status}`,c.endTime-c.startTime,{tags:{handler:l??"unknown",initialStatus:o,queryName:r.name}}),"completed"===c.status&&c.startTime>c.endTime&&(0,s.GV)("pws.graphql.fetchQueryClient.fetchFromSSRCache.completedBeforePending",{tags:{handler:l??"unknown",queryName:r.name}})}),"completed"===c.status)?c.response:"rejected"===c.status?null:c.promise:null)??n(e,t)}}let m=null;function p(){let e=new r.Environment({network:r.Network.create(d()),store:new r.Store(new r.RecordSource)});return"u">typeof window&&(m=e),e}function g(){return m}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/50095-c63420e799439d39.mjs.map