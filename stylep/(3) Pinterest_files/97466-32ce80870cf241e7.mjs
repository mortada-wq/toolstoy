(self.modernJsonp=self.modernJsonp||[]).push([["97466"],{998365(e,o,t){t.d(o,{A:()=>a});function a(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},382188(e,o,t){t.d(o,{A:()=>B});var a=t(61163),l=t(859471),i=t(106386),s=t(963522);let n="board",r="user",c="conversation";var d=t(538329),_=t(542975),p=t(499877),u=t(562615);function h({shouldBlock:e,updateShouldBlock:o,user:t}){(0,l.useEffect)(()=>{(0,a.A)("BlockUserSwitch","/app/common/react/components/undiscovery/ReportModal/BlockUserSwitch.tsx")},[]);let i=(0,d.A)(),{fullName:n,username:r}=t,c=n?`${n} (${r})`:r;return(0,u.jsxs)(s.az,{paddingY:3,children:[(0,u.jsx)(s.KJ,{size:"100",children:(0,_.vQ)(i._('Block {{ name }}', 'reportModal.detailPage.userBlockSwitch.heading', 'Block a user heading, name:Display name of user to be blocked'),{name:c})}),(0,u.jsxs)(s.az,{direction:"row",display:"flex",paddingY:2,children:[(0,u.jsx)(s.az,{marginEnd:2,children:(0,u.jsx)(s.Sc,{checked:e,id:"blockUser",onChange:o})}),(0,u.jsx)(s.az,{children:(0,u.jsx)(s.KJ,{size:"300",children:(0,u.jsx)(p.A,{})})})]})]})}var m=t(601185),b=t(501309);let g={listStyleType:"disc",marginLeft:"18px",fontSize:"16px"};function A({objectToReport:e,isBlocked:o,setIsBlocked:t,selectedReason:i,shouldBlockUser:n,renderVideoReasonDetailPage:r,updateShouldBlockUser:c}){(0,l.useEffect)(()=>{(0,a.A)("ReasonDetailPage","/app/common/react/components/undiscovery/ReportModal/ReasonDetailPage.tsx")},[]);let{detail_page_removal_examples:_,detail_page_removal_example_header:p,detail_page_non_removal_examples:A,detail_page_non_removal_example_header:f,detail_page_additional_text:x}=i,{userToBlock:P}=e,{checkExperiment:z}=(0,m.A)(),y=(0,d.A)(),w=z("web_blocking_upsell").anyEnabled;return(0,u.jsxs)(s.az,{paddingX:8,children:[w&&(0,u.jsx)(s.KJ,{size:"300",children:y._('We usually review all submitted reports within 48 hours. We won\u2019t notify this account that you submitted a report.', 'reportPinReasonDetail.effectNotification', 'Text description helper to notify user actions')}),(0,u.jsxs)(s.az,{paddingY:3,children:[(0,u.jsx)(s.KJ,{size:"100",children:p}),_.length>0&&(0,u.jsx)(s.az,{paddingY:2,children:(0,u.jsx)("ul",{children:_.map((e,o)=>(0,u.jsx)("li",{style:g,children:(0,u.jsx)(s.KJ,{size:"300",children:e})},`removals-${o}`))})})]}),A.length>0&&(0,u.jsxs)(s.az,{paddingY:3,children:[(0,u.jsx)(s.KJ,{size:"100",children:f}),(0,u.jsx)(s.az,{paddingY:2,children:(0,u.jsx)("ul",{children:A.map((e,o)=>(0,u.jsx)("li",{style:g,children:(0,u.jsx)(s.KJ,{size:"300",children:e})},`removals-${o}`))})})]}),x&&(0,u.jsx)(s.az,{paddingY:3,children:(0,u.jsx)(s.KJ,{size:"300",children:x})}),r&&r(),w&&P?(0,u.jsx)(b.A,{isBlocked:o,setIsBlocked:t,userToBlock:P}):(0,u.jsx)(s.az,{children:"conversation"===e.type&&c&&e.userToBlock&&(0,u.jsx)(h,{shouldBlock:!!n,updateShouldBlock:c,user:{username:e.userToBlock.username,fullName:e.userToBlock.fullName}})})]})}var f=t(586733);function x({isSelectionStep:e,isBlocked:o,hasTimestampErrors:t,selectedReason:i,handleSubmitReport:n,onDismiss:r,step:c,shouldBlockUser:_,objectToReport:p,setStep:h}){(0,l.useEffect)(()=>{(0,a.A)("ReportFooter","/app/common/react/components/undiscovery/ReportModal/ReportFooter.tsx")},[]);let b=(0,d.A)(),{logContextEvent:g}=(0,f.o)(),{checkExperiment:A}=(0,m.A)(),x=({component:e,element:o,event:t})=>{p&&g({event_type:t,component:e,element:o,object_id_str:p.id,view_parameter:p.viewParameter||void 0,view_type:p.viewType||void 0})},P=e=>()=>{!0!==e&&x({event:101,component:13179,...i?{element:i.element_type}:{}}),h(e)},z=e&&!i?.key||!e&&t,y=!(!1===c&&i&&"secondary_reasons"in i&&i?.secondary_reasons&&i.secondary_reasons.length>0),w=e?b._('Next', 'ReportModal.nextButton', 'Button to progress to next screen in report flow'):A("web_blocking_upsell").anyEnabled&&o?b._('Block and report', 'ReportModal.blockAndReportButton', 'Button text to submit a report and block the user'):b._('Report', 'ReportModal.submitButton', 'Button text to submit a report'),j=e?P(!1):()=>{i&&n({reasonKey:i.key,...{selectedReason:i},...{shouldBlockUser:_}})};i?.open_web_url&&(j=()=>{"pin"===p.type&&x({event:59,element:i.element_type}),i.open_web_url&&window.open(i.open_web_url,"_blank"),r()});let v=e?b._('Cancel', 'ReportModal.cancelButton', 'Cancel button'):b._('Back', 'ReportModal.backButton', 'Back button'),B=e?r:P(!0);return(0,u.jsxs)(s.az,{direction:"row",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,u.jsx)(s.az,{paddingX:1,children:(0,u.jsx)(s.az,{"data-test-id":"report-pin-back-button",children:(0,u.jsx)(s.$n,{onClick:B,size:"lg",text:v})})}),y&&(0,u.jsx)(s.az,{paddingX:1,children:(0,u.jsx)(s.az,{"data-test-id":"report-pin-submit-button",children:(0,u.jsx)(s.$n,{color:"primary",disabled:z??!1,onClick:j,size:"lg",text:w})})})]})}var P=t(670330);function z({handleSelectedReason:e,reason:o,reportingReasons:t}){(0,l.useEffect)(()=>{(0,a.A)("SelectReportingReason","/app/common/react/components/undiscovery/ReportModal/SelectReportingReason.tsx")},[]);let i=(0,d.A)(),n=t.filter(e=>void 0!==e.key&&null!==e.key);return(0,u.jsx)(s.az,{paddingX:4,paddingY:2,children:(0,u.jsx)(s.z6,{id:"select-reporting-reason",legend:i._('Select reporting reason', 'select_reporting_reason.legend', 'Description of Reporting reason'),legendDisplay:"hidden",children:n.map(t=>(0,u.jsx)(s.az,{direction:"row",display:"flex",paddingX:4,children:(0,u.jsx)(s.az,{"data-test-id":`report-pin-reason-${t.key}`,children:(0,u.jsx)(s.z6.RadioButton,{checked:t.key===o,helperText:t.secondary_text||"",id:t.key,label:t.primary_text||"",name:"reportPinOptions",onChange:()=>e(t),value:t.key})})},`Option-${t.key}`))})})}var y=t(743372),w=t(79906),j=t(83203),v=t(974694);function B({onDismiss:e,handleSubmitReport:o,hasTimestampErrors:t,objectToReport:_,renderVideoReasonDetailPage:p,reportingReasons:h,showSuccessReportMessage:m}){(0,l.useEffect)(()=>{(0,a.A)("ReportModal","/app/common/react/components/undiscovery/ReportModal/ReportModal.tsx")},[]);let b=(0,d.A)(),[g,f]=(0,l.useState)(null),[B,k]=(0,l.useState)(!1),C=(0,i.wA)(),R=(0,y.A)(),[S,L]=(0,l.useState)(!1),[T,M]=(0,l.useState)(!0),E=(0,j.A)(),{userToBlock:I}=_,D=e=>{f(e)},U=()=>{if(!0!==T&&g?.detail_page_header_text)return g.detail_page_header_text;switch(_.type){case"pin":return b._('Report Pin', 'pinReporting.heading', 'Modal heading for report pin flow');case r:return b._('Report account', 'accountReporting.heading', 'Modal heading for report account flow');case c:return b._('Report conversation', 'conversationReporting.heading', 'Modal heading for report conversation flow');case n:return b._('Report board', 'boardReporting.heading', 'Modal heading for board report flow');default:return""}};return h?(0,u.jsx)(w.Ay,{accessibilityModalLabel:U(),footer:h&&(0,u.jsx)(x,{handleSubmitReport:e=>{S&&I&&(C((0,v.om)({id:I.id,logContextEvent:R})),R({event_type:17447,view_parameter:(()=>{switch(_.type){case"pin":return 71;case c:return 3981;case n:return 3846;case r:return 86;default:return null}})(),element:18096})),o(e)},hasTimestampErrors:t,isBlocked:S,isSelectionStep:!0===T,objectToReport:_,onDismiss:e,selectedReason:g,setStep:M,shouldBlockUser:B,step:T}),heading:U(),onDismiss:e,children:(0,u.jsxs)(s.az,{"data-test-id":"report-modal",children:[!0===T&&(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(z,{handleSelectedReason:D,reason:g?.key,reportingReasons:h}),m&&(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(s.az,{borderColor:"decorative",borderWidth:"sm",marginBottom:4,marginEnd:8,marginStart:8,marginTop:4}),(0,u.jsx)(s.az,{marginEnd:4,marginStart:4,children:(0,u.jsx)(s.QE,{message:b._('Blocked. To manage your block list, see social permissions in settings.', 'pinReporting.successBlockMessage', 'Success block message after block and report action'),type:"success"})})]})]}),!0!==T&&g&&"secondary_reasons"in g&&g?.secondary_reasons&&g.secondary_reasons.length>0?(0,u.jsx)(P.A,{onChange:D,secondaryReasons:g.secondary_reasons}):!0!==T&&g&&(0,u.jsx)(A,{isBlocked:S,objectToReport:_,renderVideoReasonDetailPage:p,selectedReason:g,setIsBlocked:L,shouldBlockUser:B,updateShouldBlockUser:()=>{_.userToBlock&&(B||E(),k(!B))}})]})}):(0,u.jsx)(s.y$,{accessibilityLabel:b._('Loading pin report modal', 'pinReporting.spinner', 'Accessibility label for spinner shown while reasons are loading'),show:!0})}},670330(e,o,t){t.d(o,{A:()=>r});var a=t(61163),l=t(859471),i=t(963522),s=t(538329),n=t(562615);function r({onChange:e,secondaryReasons:o}){(0,l.useEffect)(()=>{(0,a.A)("SecondaryReasons","/app/common/react/components/undiscovery/ReportModal/SecondaryReasons.tsx")},[]);let t=(0,s.A)();return(0,n.jsx)(i.az,{children:o.map(o=>(0,n.jsx)(i.Rp,{onTap:()=>o.open_web_url?window.open(o.open_web_url,"_blank"):e(o),children:(0,n.jsxs)(i.az,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,n.jsx)(i.az,{paddingX:8,children:(0,n.jsx)(i.KJ,{children:o.primary_text})}),(0,n.jsx)(i.az,{"data-test-id":"secondary-reason-container",paddingX:8,children:o.open_web_url?(0,n.jsx)(i.In,{accessibilityLabel:t._('Visit for more information', 'pinReporting.secondaryReason.outsideLink.icon', 'Visit outside link for more information'),color:"default",dataTestId:"secondary-reason-outside-link-icon",icon:"arrow-up-right"}):(0,n.jsx)(i.In,{accessibilityLabel:t._('Select this reason', 'pinReporting.secondaryReason.modalPageLink.icon', 'Choose this reason'),color:"default",dataTestId:"secondary-reason-icon",icon:"chevron-right"})})]})},o.key))})}},574704(e,o,t){t.d(o,{A:()=>n});var a=t(567176),l=t(538329),i=t(706466),s=t(562615);function n(){let e=(0,l.A)(),{showToast:o}=(0,i.CG)();return{showErrorToast:()=>{o(({hideToast:o})=>(0,s.jsx)(a.A,{onHide:o,text:e._('Something went wrong.', 'fetchReportingReasons.Toast.Unsuccessful', 'Toast after fetching reporting reasons is unsuccessful')}))},showSuccessToast:()=>{o(({hideToast:o})=>(0,s.jsx)(a.A,{onHide:o,text:e._('Thanks. For updates, see your reports and violations center.', 'userReporting.handleSubmitReport.toast', 'This string appears on a banner that is displayed for a few seconds after the user submits a report, such as for content that violates Pinterest\u2019s policies. This banner confirms receipt and lets the user know where they can find updates. \u201Creports and violations center\u201D is the name of a feature within settings. It is a common noun. The tone of this is neutral and calm.')}))}}}},227835(e,o,t){t.d(o,{A:()=>l});var a=t(753771);function l(e){return e===a.A.BoardPrivacy.SECRET}},912186(e,o,t){t.d(o,{A:()=>l});var a=t(111723);let l=function(e,...o){let t=e[0];for(let l=0;l<o.length;l+=1)t+=(0,a.A)(o[l])+e[l+1];return t}},501309(e,o,t){t.d(o,{A:()=>d});var a=t(61163),l=t(859471),i=t(963522),s=t(538329),n=t(542975),r=t(499877),c=t(562615);function d({isBlocked:e,userToBlock:o,setIsBlocked:t}){(0,l.useEffect)(()=>{(0,a.A)("BlockUserForm","/app/www/BlockedAccounts/BlockUserForm.tsx")},[]);let d=(0,s.A)();return o?o.blockedByMe?(0,c.jsx)(i.az,{marginTop:4,children:(0,c.jsx)(i.KJ,{color:"subtle",size:"100",children:(0,n.vQ)(d._('You\u2019ve already blocked {{ fullName }}. Manage your block list in Settings > Social permissions and activity at any time.', 'reportPinReasonDetail.blockedUser.information', 'Clear indication if user has already blocked the reported user. fullName: the blocked user name to be displayed'),{fullName:o.fullName})})}):(0,c.jsx)(i.az,{children:(0,c.jsx)(i.so,{alignItems:"center",gap:4,height:"100%",justifyContent:"center",width:"100%",children:(0,c.jsx)(i.Sc,{checked:e,helperText:(0,c.jsx)(r.A,{}),id:"block-user-checkbox",label:(0,n.vQ)(d._('Block {{ fullName }}?', 'reportPinReasonDetail.blockUser.checkLabel', 'Check label for blocking a user section. fullName: the name to be displayed'),{fullName:o?.fullName}),onChange:({checked:e})=>t(e)})})}):null}},499877(e,o,t){t.d(o,{A:()=>u});var a=t(61163),l=t(859471),i=t(963522),s=t(586733),n=t(538329),r=t(542975),c=t(607685),d=t(971289),_=t(562615);let p=c.cHt+"?source=block_dialogue";function u(){(0,l.useEffect)(()=>{(0,a.A)("BlockingUserWarning","/app/www/BlockedAccounts/BlockingUserWarning.tsx")},[]);let e=(0,n.A)(),o=(0,d.qJ)(),{logContextEvent:t}=(0,s.o)(),c=()=>{t({event_type:o?101:102,component:13})};return(0,r.$w)({text:e._('You won\u2019t be able to see, follow or contact each other, or save each other\u2019s Pins. People aren\u2019t notified when you block them. <strong id="1">Learn more</strong>', 'blockingUsers.description', 'description of blocking users'),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,_.jsx)(i.N_,{display:"inlineBlock",href:p,onClick:c,target:"blank",children:e})}})}},703334(e,o,t){t.d(o,{A:()=>d});var a=t(61163),l=t(859471),i=t(963522),s=t(79906),n=t(538329),r=t(259490),c=t(562615);function d({viewParameter:e,sensitivity:o,dismiss:t,objectType:d}){(0,l.useEffect)(()=>{(0,a.A)("SensitiveReportModal","/app/www/ContentSensitivity/SensitiveReportModal.tsx")},[]);let _=(0,n.A)();return(0,c.jsxs)(s.Ay,{accessibilityModalLabel:_._('Sensitive Report', 'sensitiveNotice.sensitiveReportModal.sensitiveReport', 'a11y title for the sensitive report modal'),onDismiss:t,children:[(0,c.jsx)(i.so,{justifyContent:"end",children:(0,c.jsx)(i.az,{marginTop:4,paddingX:4,children:(0,c.jsx)(i.K0,{accessibilityLabel:_._('Close', 'sensitiveNotice.sensitiveReportModal.closeButton', 'Close button for sensitive report modal'),icon:"close",iconColor:"dark",onClick:t,size:"lg"})})}),o?.notices?.map(t=>(0,c.jsx)(r.A,{notice:t,objectType:d,sensitivity:o,viewParameter:e,viewType:16},t.id)),(0,c.jsx)(i.az,{paddingX:4,children:(0,c.jsx)(i.cG,{})}),(0,c.jsx)(i.az,{padding:4,children:(0,c.jsx)(i.QE,{message:_._('Thanks. For updates, see your reports and violations center.', 'sensitiveNotice.sensitiveReportModal.successMessage', 'Success message after user report content'),type:"success"})})]})}},475860(e,o,t){t.d(o,{A:()=>j});var a=t(61163),l=t(859471),i=t(106386),s=t(979638),n=t(963522),r=t(743372),c=t(296221),d=t(79906),_=t(538329),p=t(601185),u=t(971289),h=t(734696),m=t(897983),b=t(562615);function g({isOpen:e,onDismiss:o}){(0,l.useEffect)(()=>{(0,a.A)("DisabledPinCreationModal","/app/www/CreateMenu/DisabledPinCreationModal.tsx")},[]);let t=(0,_.A)();return(0,b.jsx)(d.Ay,{accessibilityModalLabel:t._('Disabled Pin Publishing Error Message Modal', 'disabledPinCreationModal.modal.accessibilityLabel', 'Label for disabled pin creation modal'),isOpen:e,mobileAccessibilityCloseIconLabel:t._('Close disabled publishing message modal', 'disabledPinCreationModal.modal.closeIconLabel', 'Label for the close button on the disabled publishing modal'),onDismiss:o,type:"DisabledPublishingModal",children:(0,b.jsxs)(n.az,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,b.jsx)(n._Y,{children:t._('Oops...', 'disabledPinCreationModal.modal.heading', 'Exclamation used to show recognition of a mistake.')}),(0,b.jsx)(n.az,{paddingY:3,children:(0,b.jsx)(n.KJ,{children:t._('Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.', 'disabledPinCreationModal.modal.text', 'Message to let users know there is an error.')})}),(0,b.jsx)(n.az,{paddingY:3,children:(0,b.jsx)(n.$n,{color:"primary",onClick:()=>o(),size:"lg",text:t._('Dismiss', 'disabledPinCreationModal.button.dismiss', 'Button text for closing the disabled pin creation modal')})})]})})}function A(e){(0,l.useEffect)(()=>{(0,a.A)("CreateMenuLinkButton","/app/www/CreateMenuLinkButton.tsx")},[]);let o=(0,_.A)(),{viewType:t,boardId:i,handleTouch:s}=e,r=o._('Board', 'createMenuLinkButton.Create.Board.Label', 'label for creating a new board option'),c=o._('Section', 'createMenuLinkButton.Create.Section.Label', 'label for creating a new section option');return 5===t&&i?(0,b.jsx)(n.$A,{href:`/board/${i}/create_section/`,onTap:s,rounding:200,children:(0,b.jsx)(n.az,{"data-test-id":"addSectionButton",paddingY:2,children:(0,b.jsx)(n._Y,{size:"400",children:c})})}):(0,b.jsx)(n.$A,{href:"/board/create/",onTap:s,children:(0,b.jsx)(n.az,{"data-test-id":"createMenuCreateBoardButton",paddingY:2,children:(0,b.jsx)(n._Y,{size:"400",children:r})})})}var f=t(252162);function x({disabledPinCreation:e,handleDisablePublish:o,handleTouch:t}){(0,l.useEffect)(()=>{(0,a.A)("CreatePinButton","/app/www/CreatePinButton.tsx")},[]);let i=(0,_.A)(),r=(0,s.Zp)(),c=i._('Photo', 'createPinButton.Photo.Upload.Label', 'label to upload pin from camera roll photos');return(0,b.jsx)(n.Rp,{onTap:()=>{e?o():t()},tapStyle:"none",children:(0,b.jsxs)(n.az,{paddingY:2,position:"relative",children:[(0,b.jsx)(n._Y,{size:"400",children:c}),e?null:(0,b.jsx)("input",{accept:"image/*",id:"upload-pin",onChange:e=>{let o=new FileReader;o.readAsDataURL(e.target.files[0]),o.onload=()=>{let e=o.result;r(`/pin/create/${f.zK}/`,{state:{imageBase64:String(e),description:"",imageUrl:"",method:f.zK}})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"},type:"file"})]})})}var P=t(550552),z=t(226150),y=t(868805);function w({bgColor:e,boardId:o,buttonPadding:t,disabledPinCreation:i,elementType:s,navigate:r,i18n:_,iconButtonColor:p="subtle",iconButtonSize:u="xl",isDesktop:f,isInputOpen:z,logContextEvent:y,requireAuthForLimitedLogin:w,submittedLink:j,updatePinBuilderInput:v,viewType:B}){let k,C,R,S;(0,l.useEffect)(()=>{(0,a.A)("CreateMenu","/app/www/CreateMenu/CreateMenu.tsx")},[]);let[L,T]=(0,l.useState)(""),[M,E]=(0,l.useState)(!1),[I,D]=(0,l.useState)(!1),[U,F]=(0,l.useState)(!1),[O,K]=(0,l.useState)(null);(0,l.useEffect)(()=>{(z||j)&&(E(!!z),D(!!z),j&&T(j))},[z,j]);let N=(0,l.useRef)(null),$=(0,l.useRef)(null),H=()=>{y({view_type:B,view_parameter:3106,element:s,event_type:102,aux_data:{source:m.A.PROFILE}})},Y=()=>{E(!1),D(!1),v({isInputOpen:!1,submittedLink:""})},J=()=>{E(!1),F(!0)},W=(e,o)=>{e.preventDefault();let{errors:t}=(0,h.k)({message:_._('Oops! Please enter a valid URL.', 'URL validation error message on Pin builder form', 'URL validation error message on Pin builder form')})(L),[a]=t;a?K(a):(D(!1),v({submittedLink:L}),o("/pin-builder/",{state:{createPinFromLinkUrl:L}}),Y())},X=_._('Add a Pin or board', 'heading in profile create modal', 'heading in profile create modal');164===B?X=_._('Add to section', 'heading in section create modal', 'heading in section create modal'):5===B&&(X=_._('Add a Pin or section', 'heading in profile create modal', 'heading in profile create modal')||_._('Add to board', 'heading in board create modal', 'heading in board create modal'));let Q=4===B?_._('Add to profile', 'editPin.AddToProfile.Modal.Header', 'heading in profile create modal'):X,G=(5===B||164===B)&&$.current;return(0,b.jsxs)(l.Fragment,{children:[(0,b.jsx)(n.so,{alignItems:"center",justifyContent:"start",children:(0,b.jsx)(n.az,{"data-test-id":"createMenuCreateButton",children:(0,b.jsx)(n.K0,{ref:$,accessibilityLabel:_._('Create a Pin or board', 'icon that opens model prompting user to create a new pin or board', 'icon that opens model prompting user to create a new pin or board'),bgColor:e,icon:"plus",iconColor:p,onClick:()=>{H(),w({fn:()=>E(!0),modalHeader:(0,P.R2)(_)})()},padding:t,size:u})})}),M&&(0,b.jsx)(d.Ay,{accessibilityModalLabel:"",heading:Q,isOpen:M,mobileAccessibilityCloseIconLabel:_._('close board and pin create modal', 'close modal that prompts user to create a new pin or board', 'close modal that prompts user to create a new pin or board'),onDismiss:Y,type:"create_menu",children:(0,b.jsx)(n.az,{padding:3,children:(0,b.jsxs)(n.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,b.jsxs)(n.az,{paddingX:2,children:[(0,b.jsx)(n.az,{marginBottom:2,children:(0,b.jsx)(n.KJ,{children:_._('Create', 'editPin.Create.Section.Text', 'Section title to Create new things on Edit Pin add modal')})}),(k=_._('Website', 'editPin.CreatePinFromUrl.Label', 'label for option to create a pin from a url'),(0,b.jsx)(n.so,{alignItems:"center",justifyContent:"start",children:I?(0,b.jsx)("form",{onSubmit:e=>W(e,r),style:{width:"100%"},children:(0,b.jsxs)(n.so,{alignItems:"start",justifyContent:"between",children:[(0,b.jsx)(n.az,{ref:N,width:"100%",children:(0,b.jsx)(n.az,{marginBottom:2,marginEnd:2,smMarginBottom:0,smMarginEnd:2,children:(0,b.jsx)(n.A_,{errorMessage:O,id:"create-pin-from-link",onChange:({value:e})=>{T(e)},onFocus:()=>K(null),placeholder:(C=window&&window.innerWidth||0,R=_._('Enter a link to create a Pin, https://...', 'placeholder in text field where a user inputs a URL to create a Pin', 'placeholder in text field where a user inputs a URL to create a Pin'),S=_._('Enter a link, https://...', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit'),C<380?S:R),size:"lg",value:L})})}),(0,b.jsx)(n.K0,{accessibilityLabel:_._('Create Pin from entered link', 'navigation button to confirm user will create a Pin from a link they entered', 'navigation button to confirm user will create a Pin from a link they entered'),icon:"chevron-right",iconColor:"default",onClick:({event:e})=>W(e,r),size:"lg"})]})}):(0,b.jsx)(n.Rp,{onTap:()=>{i?J():(D(!0),v({isInputOpen:!0}))},tapStyle:"none",children:(0,b.jsx)(n.az,{"data-test-id":"websiteButton",position:"relative",children:(0,b.jsx)(n._Y,{size:"400",children:k})})})})),(0,b.jsx)(x,{disabledPinCreation:i,handleDisablePublish:J,handleTouch:H})]}),164!==B&&(0,b.jsxs)(n.az,{marginTop:6,paddingX:2,children:[(0,b.jsx)(n.KJ,{children:_._('Add', 'editPin.Section.Add.Text', 'Section Add title on Edit Pin add modal')}),(0,b.jsx)(A,{boardId:o,handleTouch:()=>{H(),Y()},viewType:B})]}),(0,b.jsx)(n.az,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,b.jsx)(n.$n,{onClick:()=>Y(),size:"lg",text:_._('Close', 'editPin.Modal.Close.Button', 'Button text to close modal on EditPin')})})]})})}),U&&(0,b.jsx)(g,{isOpen:!0,onDismiss:()=>{F(!1)}}),G&&(0,b.jsx)(c.X$,{anchors:{[f?3006:4006]:$.current},idealDirection:"up",onAnchorTouch:"complete",placementId:f?18:1000251,scrollToDismiss:!0})]})}function j(e){(0,l.useEffect)(()=>{(0,a.A)("CreateMenu","/app/www/CreateMenu/CreateMenu.tsx")},[]);let o=(0,_.A)(),t=(0,u.qJ)(),{checkExperiment:n}=(0,p.A)(),c=["disable_all","disable_web_pins"].includes(n("disable_pin_creation").group),d=(0,i.wA)(),h=(0,s.Zp)(),{pinBuilder:m}=(0,i.d4)(e=>e.session),g=(0,r.A)(),A=m&&m.isInputOpen,f=m&&m.submittedLink,x=(0,z.A)();return(0,b.jsx)(w,{...e,disabledPinCreation:c,i18n:o,isDesktop:t,isInputOpen:A,logContextEvent:g,navigate:h,requireAuthForLimitedLogin:x,submittedLink:f,updatePinBuilderInput:e=>d((0,y.W)(e))})}},970042(e,o,t){t.d(o,{A:()=>s});var a=t(859471),l=t(743372),i=t(752159);function s(e){let{auxData:o,clientTrackingParams:t,children:s,component:n,element:r,objectIdStr:c,viewData:d,viewParameter:_,viewType:p}=e,u=(0,l.A)(),h=JSON.stringify(o),m=JSON.stringify(d);return(0,a.useEffect)(()=>{(({viewType:e,viewParameter:o,viewData:t,auxData:a,objectIdStr:l,component:s,clientTrackingParams:n,element:r},c)=>{let d,_=Object.keys(d={event_type:13,view_type:e,view_parameter:o,view_data:t,aux_data:a,object_id_str:l,component:s,clientTrackingParams:n,element:r}).reduce((e,o)=>(void 0===d[o]&&delete e[o],e),{...d});-1===Object.keys(_).indexOf("view_type")&&(0,i.PM)("mweb.logging.null_view_type"),c(_)})(e,u)},[u,h,t,n,r,c,m,_,p]),a.Children.only(s)}},223310(e,o,t){t.d(o,{A:()=>n});var a=t(61163),l=t(859471),i=t(963522),s=t(562615);function n(e){(0,l.useEffect)(()=>{(0,a.A)("ActionBarButton","/app/www/board/Header/ActionBar/ActionBarButton.tsx")},[]);let{accessibilityLabel:o,accessibilityControls:t,accessibilityExpanded:n,bgColor:r,icon:c,iconColor:d,onClick:_,selected:p,size:u,tooltip:h}=e;return(0,s.jsx)(i.K0,{accessibilityControls:t,accessibilityExpanded:n,accessibilityLabel:o,bgColor:r??"transparent",icon:c,iconColor:d??"default",onClick:_,selected:p,size:u??"lg",tooltip:h?{text:h}:void 0})}},305147(e,o,t){t.d(o,{A:()=>r});var a=t(61163),l=t(859471),i=t(963522),s=t(223310),n=t(562615);function r({bgColor:e,children:o,dropdownLabel:t,label:r,icon:c,iconColor:d,id:_,size:p,tooltip:u,initiallyOpen:h=!1}){(0,l.useEffect)(()=>{(0,a.A)("ActionBarMenuButton","/app/www/board/Header/ActionBar/ActionBarMenuButton.tsx")},[]);let m=(0,l.useRef)(null),[b,g]=(0,l.useState)(h),A=()=>g(!1),f="actionBarMenuButton";return(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)(i.az,{ref:m,"data-test-id":_,children:(0,n.jsx)(s.A,{accessibilityControls:f,accessibilityExpanded:b,accessibilityLabel:r,bgColor:e,icon:c,iconColor:d,onClick:()=>g(!b),selected:b,size:p,tooltip:u})}),b&&(0,n.jsx)(i.ms,{accessibilityLabel:t,anchor:m.current,disableMobileUI:!0,id:f,idealDirection:"down",onDismiss:A,zIndex:new i.rk(1e3),children:o({handleClose:A})})]})}},252162(e,o,t){t.d(o,{BY:()=>l,HT:()=>c,UV:()=>_,Z2:()=>i,cA:()=>d,dD:()=>n,zK:()=>a});let a="uploaded",l="pinbuilder",i="scraped";function s(e){return!!e&&"object"==typeof e&&"method"in e}function n(e){return s(e)&&e.method===i}function r(e){return s(e)&&e.method===a}function c(e){return s(e)&&"button"===e.method}function d(e){return n(e)||r(e)||c(e)}function _({boardId:e,checkExperiment:o,createPin:t,sectionId:a,state:l}){let i=[];if(n(l)){let{imgData:s}=l;s.forEach(s=>{i.push(t(function({boardId:e,checkExperiment:o,image:t,sectionId:a,state:l}){let{description:i,link:s,method:n}=l;return{boardId:e,checkExperiment:o,description:i,guid:"",imageBase64:"",imageUrl:t,link:s,method:n,sectionId:a}}({boardId:e,checkExperiment:o,image:s,sectionId:a,state:l})))})}else i.push(t(function({boardId:e,checkExperiment:o,sectionId:t,state:a}){if(r(a)){let{description:l,imageBase64:i,imageUrl:s,method:n}=a;return{boardId:e,checkExperiment:o,description:l,guid:"",imageBase64:i,imageUrl:s,link:"",method:n,sectionId:t}}{let{description:l,guid:i,imageUrl:s,link:n,method:r}=a;return{boardId:e,checkExperiment:o,description:l,guid:i,imageUrl:s,link:n,method:r,sectionId:t}}}({boardId:e,checkExperiment:o,sectionId:a,state:l})));return i}},550552(e,o,t){t.d(o,{Bw:()=>s,Em:()=>g,GX:()=>d,Mm:()=>c,NR:()=>m,R2:()=>h,b9:()=>n,kH:()=>b,rQ:()=>p,rS:()=>u,uj:()=>_,zh:()=>r});var a=t(956384),l=t(286622),i=t(803489);let s=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),n=({firstName:e,i18n:o})=>e?(o._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):o._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),r=e=>{let o=(0,i.A)(e.search).board_url;if(o){let e=(0,l.A)(o),t=(0,a.A)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${t}`:`${e}?${t}`}return e.pathname},c=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{let o=e.pathname;if(o.startsWith("/pin/")){let e=o.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return o},_=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),p=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),u=e=>{let o=e.pathname;if(o.startsWith("/pin/")){let e=o.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return o},h=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),m=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),b=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),g=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},258301(e,o,t){t.d(o,{D5:()=>n,Hc:()=>c,ht:()=>r});var a=t(859471),l=t(562615);let i=(0,a.createContext)(),s=(0,a.createContext)();function n({children:e}){let[o,t]=(0,a.useState)(!1);return(0,l.jsx)(i,{value:o,children:(0,l.jsx)(s,{value:t,children:e})})}function r(){let e=(0,a.use)(i);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function c(){let e=(0,a.use)(s);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},18086(e,o,t){t.d(o,{IU:()=>i,JE:()=>s,QT:()=>n,eE:()=>l,oJ:()=>r});var a=t(963522);let l=new a.rk(1),i=new a.K5([l]),s=new a.K5([i]),n=new a.K5([s]),r=new a.K5([s])},868805(e,o,t){t.d(o,{F:()=>a,W:()=>l});let a=e=>({type:"PIN_BUILDER_LOADED_IMAGES",payload:e}),l=e=>({type:"UPDATE_PIN_BUILDER_INPUT",payload:e})},734247(e,o,t){t.d(o,{A:()=>P});var a=t(859471),l=t(963522),i=t(586733),s=t(538329),n=t(61163),r=t(581530),c=t(562615);function d({anchor:e,hideAddSectionTooltip:o}){(0,a.useEffect)(()=>{(0,n.A)("AddSectionTooltip","/app/www/save/board/BoardInfoBar/AddSectionTooltip.tsx")},[]);let t=(0,s.A)();return(0,c.jsx)(l.Wd,{children:(0,c.jsx)(l.az,{position:"absolute",top:!0,zIndex:r.sn,children:(0,c.jsx)(l.fT,{anchor:e,idealDirection:"down",message:t._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section'),onDismiss:o})})})}var _=t(649811),p=t(693154),u=t(601185),h=t(18086);function m({anchor:e,idealDirection:o,onAddOrEditDate:t,onAddSection:i,onClose:r,onCreateBoard:d,onCreateCollage:m,onCreatePin:b,onCreateStoryPin:g,surface:A,isWithinFixedContainer:f,id:x}){(0,a.useEffect)(()=>{(0,n.A)("BoardActionsDropdown","/app/www/save/board/BoardInfoBar/BoardActionsButton/BoardActionsDropdown.tsx")},[]);let P=(0,s.A)(),z=(0,p.A)(),y=(0,_.A)(!0),{checkExperiment:w}=(0,u.A)(),j=["profileBoards","profilePins"].includes(A),v=j&&w("web_curation_board_create_entry_points").anyEnabled,B=j&&z?.isAuth&&(z?.isPartner||w("web_curation_collages_create_button").anyEnabled),k=(0,a.useMemo)(()=>({pin:P._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:P._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'),board:P._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),collage:P._('Collage', 'profileHeader.actionBar.collage', 'Option to create a collage'),section:P._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:P._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),new:P._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')}),[P]),C=[!y&&(0,c.jsx)(l.ms.Item,{dataTestId:"Create Pin",onSelect:()=>{b(),r()},option:{label:k.pin,value:k.pin}},"actions-create-0"),g&&(0,c.jsx)(l.ms.Item,{dataTestId:"Create Story Pin",onSelect:()=>{g(),r()},option:{label:y?k.pin:k.rename,value:y?k.pin:k.rename}},"actions-create-1"),j&&d&&(0,c.jsx)(l.ms.Item,{dataTestId:"Create board",onSelect:()=>{d(),r()},option:{label:k.board,value:k.board}},"actions-create-2"),B&&m&&(0,c.jsx)(l.ms.Item,{dataTestId:"Create Collage",onSelect:()=>{m(),r()},option:{label:k.collage,value:k.collage}},"actions-create-3")].filter(Boolean);return(0,c.jsxs)(l.ms,{anchor:e,id:x||"board_actions",idealDirection:o||"down",isWithinFixedContainer:f,onDismiss:r,zIndex:h.QT,children:[v?C:(0,c.jsx)(l.ms.Section,{label:P._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:C}),"board"===A&&(0,c.jsx)(l.ms.Section,{label:P._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[i&&(0,c.jsx)(l.ms.Item,{dataTestId:"addSection",onSelect:()=>{i(),r()},option:{label:k.section,value:k.section}},"actions-add-1"),!!t&&(0,c.jsx)(l.ms.Item,{onSelect:()=>{t(),r()},option:{label:k.date,value:k.date}},"actions-add-2")].filter(Boolean)})]})}var b=t(296221),g=t(258301);function A({anchor:e}){(0,a.useEffect)(()=>{(0,n.A)("CreateBoardTooltip","/app/www/save/board/BoardInfoBar/CreateBoardTooltip.tsx")},[]);let o=(0,g.Hc)();return(0,c.jsx)(l.Wd,{children:(0,c.jsx)(l.az,{position:"absolute",top:!0,zIndex:r.sn,children:(0,c.jsx)(b.En,{anchor:e,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>{o(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function f({anchor:e}){return(0,a.useEffect)(()=>{(0,n.A)("PlanningActionsExperience","/app/www/save/board/BoardInfoBar/PlanningActionsExperience.tsx")},[]),(0,c.jsx)(l.Wd,{children:(0,c.jsx)(l.az,{position:"absolute",top:!0,zIndex:r.sn,children:(0,c.jsx)(b.En,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var x=t(918146);function P({children:e,idealDirection:o,onAddOrEditDate:t,onAddSection:n,onCreateBoard:r,onCreateCollage:_,onCreatePin:p,onCreateStoryPin:u,onOpen:h=()=>{},surface:b,isWithinFixedContainer:g}){let P,z=(0,s.A)(),{showCreateSectionTooltip:y,setShowCreateSectionTooltip:w}=(0,x.R)()??{},{logContextEvent:j}=(0,i.o)(),v=()=>w?.(!1),B=(0,a.useRef)(null),[k,C]=(0,a.useState)(!1),R=()=>C(!1),S=()=>{k?R():(h(),y&&v(),C(!0),j({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4}))},L={board:z._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:z._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:z._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:z._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},T="board_actions",M=e&&e({active:k,openFlyout:S,accessibilityControls:T,accessibilityLabel:L[b],accessibilityExpanded:k})||(0,c.jsx)(l.K0,{accessibilityControls:T,accessibilityLabel:L[b],icon:"plus",iconColor:"subtle",onClick:"section"===b?p:S,size:"lg"});return!k&&"board"===b&&(y?P="addSectionTooltip":t&&(P="planningActionsExperience")),k||"profileBoards"!==b||(P="createBoardTooltip"),(0,c.jsxs)(l.az,{"data-test-id":"boardActionsButton",children:[(0,c.jsx)(l.az,{ref:B,children:M}),k&&(0,c.jsx)(m,{anchor:B.current,id:T,idealDirection:o,isWithinFixedContainer:!!g,onAddOrEditDate:t,onAddSection:n,onClose:R,onCreateBoard:r,onCreateCollage:_,onCreatePin:p,onCreateStoryPin:u,surface:b}),"addSectionTooltip"===P&&(0,c.jsx)(d,{anchor:B.current,hideAddSectionTooltip:v}),"planningActionsExperience"===P&&(0,c.jsx)(f,{anchor:B.current}),"createBoardTooltip"===P&&(0,c.jsx)(A,{anchor:B.current})]})}},918146(e,o,t){t.d(o,{Q:()=>r,R:()=>n});var a=t(859471),l=t(987628),i=t(562615);let{Provider:s,getMaybe:n}=(0,l.A)("CreateSectionTooltip");function r({children:e}){let[o,t]=(0,a.useState)(!1),l=(0,a.useMemo)(()=>({showCreateSectionTooltip:o,setShowCreateSectionTooltip:t}),[o]);return(0,i.jsx)(s,{value:l,children:e})}},524833(e,o,t){t.d(o,{A:()=>a});function a({boardDensity:e,component:o,viewType:t,viewParameter:a},l){let i=function({boardDensity:e,viewType:o}){switch(o){case 164:return"regular"===e?10618:10619;case 5:case 4:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:t}),s=a??4===t?3106:3069;l({event_type:101,component:o,element:i,...t?{view_type:t,view_parameter:s}:Object.freeze({})})}},530597(e,o,t){t.d(o,{A:()=>l});var a=t(427471);function l({density:e,surface:o}){a.A.create("UserMetadataResource","board"===o?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e}).callUpdate()}},581530(e,o,t){t.d(o,{IT:()=>s,N:()=>l,bF:()=>r,r$:()=>i,sn:()=>n});var a=t(963522);let l=1,i=1,s=2,n=new a.rk(5e3),r=15}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/97466-32ce80870cf241e7.mjs.map