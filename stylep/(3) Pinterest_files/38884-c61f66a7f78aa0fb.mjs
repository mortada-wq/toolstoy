(self.modernJsonp=self.modernJsonp||[]).push([["38884"],{201593(e,t,i){i.d(t,{D2:()=>x,be:()=>g,ee:()=>h,fO:()=>f,xq:()=>m,zC:()=>b});var r=i(859471),s=i(601185),n=i(844255),o=i(998556),a=i(981147),l=i(752159),c=i(971289);let d="dark",p="light",u="auto",h="rgba(17, 17, 17, 1)",m="rgba(17, 17, 17, 0)",g="rgb(43, 43, 43)",b="#767676",f="rgba(0,0,0, 0.8)",v=()=>"u">typeof window&&null!=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,_=(e,t)=>`${t?"dweb":"mweb"}.dark_mode.${e}`;function x(){let{theme:e,isAuthenticated:t}=(0,n._8)(),i=(0,c.qJ)(),h=(0,c.M)(),m=(0,c.wI)(),{checkExperiment:g}=(0,s.A)(),b=t&&(0,a.A)("theme")&&(h||m||i&&g("dweb_dark_mode").anyEnabled),f=b&&e===d,[x,w]=(0,r.useState)(()=>f?d:p),[E,y]=(0,r.useState)(!1),I=b&&(f||x===d||x===u&&E);return(0,r.useEffect)(()=>{let e,t=(e=(0,o.y1)().getItem("theme"))===d||e===p||e===u?e:p;w(t),t===u&&y(v())},[t]),(0,r.useEffect)(()=>{b&&I&&(document.body.style.backgroundColor="var(--sema-color-background-default)")},[b,I]),(0,r.useEffect)(()=>{if(x!==u||"u"<typeof window||null==window.matchMedia)return;let e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{y(e.matches)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[x]),{isDarkMode:I,isDarkModeSupported:b,enableMode:e=>{if(e===u){let e=v();y(e),(0,o.y1)().setItem("theme",u),(0,l.PM)(_(e?"enable":"disable",i))}else e===d?((0,o.y1)().setItem("theme",d),(0,l.PM)(_("enable",i))):((0,o.y1)().setItem("theme",p),(0,l.PM)(_("disable",i)));w(e),window.location.reload()},followsSystemSetting:x===u}}},696264(e,t,i){i.d(t,{IO:()=>_,Ip:()=>d,PJ:()=>m,QR:()=>p,WQ:()=>c,if:()=>b,j6:()=>f,lP:()=>w,nA:()=>u,oe:()=>h,uG:()=>v,wj:()=>g});var r=i(586958),s=i(160750),n=i(616911),o=i(81920);class a{constructor({name:e,placedExperienceId:t,message:i}){this.name=e,this.placedExperienceId=t,this.message=i}log(){n.$1.warn(`[ExperienceSessions] - Warning: ${this.name} for experience ${this.placedExperienceId} - ${this.message}`,{placedExperienceId:this.placedExperienceId})}}class l extends Error{constructor({name:e,placedExperienceId:t,customMessage:i}){super(i),this.name=e,this.placedExperienceId=t,Object.setPrototypeOf(this,l.prototype)}}class c extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Error occurred while creating an IntersectionObserver for experience with id ${e}.`;super({customMessage:t??i,name:"IntersectionObserver",placedExperienceId:e})}}class d extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Attempted to create a timestamp without an observer for experience with id ${e}.`;super({customMessage:t??i,name:"TimeStampNoObserver",placedExperienceId:e})}}class p extends l{constructor({placedExperienceId:e,customMessage:t,currentState:i,newState:r}){let n=`Invalid time stamp state transition: ${(0,s.H)(i,r)}.
Dropping time stamp.`;super({customMessage:t??n,name:"InvalidStateTransition",placedExperienceId:e}),(0,o.GV)("experience_sessions_invalid_state_transition",{sampleRate:1,tags:{placedExperienceId:e,transition:(0,s.H)(i,r)}})}}class u extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Attempted to remove an experience with id ${e} from an empty session map.`;super({customMessage:t??i,name:"RemoveOnEmptySessionMap",placedExperienceId:e})}}class h extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Attempted to remove a non-existent experience with id ${e}.`;super({customMessage:t??i,name:"RemoveOnMissingExperience",placedExperienceId:e})}}class m extends l{constructor(e,t,i,r){let s=[{value:e,name:"Placed Experience ID"},{value:t,name:"Experience ID"},{value:i,name:"Placement ID"}].filter(e=>!e.value).map(e=>e.name);super({customMessage:s.length>0?`${s.join(" and ")} ${s.length>1?"are":"is"} required for this operation.`:r??"",name:"InvalidIdError",placedExperienceId:e||""})}}class g extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`No start state found in the timeline for experience with id ${e}.`;super({customMessage:t??i,name:"NoStart",placedExperienceId:e})}}class b extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Total duration calculated is negative for experience with id ${e}.`;super({customMessage:t??i,name:"NegativeTotal",placedExperienceId:e})}}class f extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Timeline ended without an end state for experience with id ${e}.`;super({customMessage:t??i,name:"NoEnd",placedExperienceId:e})}}class v extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Total duration calculated is not a valid number for experience with id ${e}.`;super({customMessage:t??i,name:"InvalidTotal",placedExperienceId:e})}}class _ extends a{constructor({placedExperienceId:e,customMessage:t}){let i=`Attempted to resume without a pause timestamp for experience with id ${e}. Was the session started before app focus?`;super({message:t??i,name:"TimeStampNoPause",placedExperienceId:e})}}let x=[u,h,m,g,b,f,v];function w(e,t,i,s,o){return(...a)=>{try{return e(...a)}catch(e){if(e instanceof Error){let i=(x.some(t=>e instanceof t)?e.placedExperienceId:s)||"0:unknown";n.$1.error(`[Experience Session] - ${t} - ${e.name}:${e.message}`);let[o,a]=i.split(":");(0,r.p)(t,e.name,a||"0",Number(o))}else{let i=String(e);n.$1.error(`[Experience Session] - ${t} - Error: ${i}`),(0,r.V)(e,t)}return o&&o(),i}}}},586958(e,t,i){i.d(t,{V:()=>n,p:()=>s});var r=i(81920);let s=async(e,t,i,s)=>{(0,r.GV)("experience_framework.view_duration.error",{sampleRate:1,tags:{func:e,type:t,experience_id:i,placement_id:s}})},n=async(e,t)=>{let i=e instanceof Error?e.message:String(e);(0,r.GV)("experience_framework.view_duration.unknown_error",{sampleRate:1,tags:{function:t,error:i}})}},492072(e,t,i){i.d(t,{A:()=>o});var r=i(696264),s=i(616911),n=i(81920);let o=e=>{let{placedExperienceId:t,experienceId:i,placementId:o,endReason:a,timeline:l}=e;(0,r.lP)(()=>{let e=function(e,t){let i,s=t.findIndex(e=>"start"===e.state);if(-1===s)throw new r.wj({placedExperienceId:e});let n=e=>{if(void 0===i)return i=e.inView,!1;let t=i===e.inView;return i=e.inView,t},o=!0,a=0,l=!1;for(let e of t.slice(s)){let t=e.inView?-e.time:e.time;if(e.inView&&(l=!0),"end"===e.state){n(e)||(a+=t),o=!1;break}"resumed"===e.state&&(o=!0),o&&(n(e)||(a+=t),"paused"===e.state&&(o=!1))}if(l||(a=0),o)throw new r.j6({placedExperienceId:e});if(a<0)throw new r.if({placedExperienceId:e});if("number"!=typeof a||Number.isNaN(a))throw new r.uG({placedExperienceId:e});return a}(t,l);s.$1.log(`[Experience Sessions] âœ¨ Total duration for experience ${t} is ${e}ms - Sending to statsboard with end reason: ${a}`),(0,n.N9)("experience_framework.view_duration",e,{sampleRate:.2,tags:{placement_id:o,experience_id:i,end_reason:a}})},"calculateTotalDuration",void 0,t,()=>{s.$1.error(`[Experience Sessions] âŒ Error calculating total duration for experience ${t} due to previous error`)})()}},160750(e,t,i){i.d(t,{H:()=>r});let r=(e,t)=>`${e}->${t}`},671996(e,t,i){i.d(t,{Hi:()=>o,al:()=>n,pv:()=>s});let r="experience_framework.frontend",s=r+"experience.not_rendered",n=r+".placement.remount",o=r+".placement.used_without_mount"},250325(e,t,i){let r;i.d(t,{$O:()=>m,Dz:()=>x,EZ:()=>g,Hy:()=>E,My:()=>w,Y4:()=>h,_4:()=>y,hG:()=>O,sE:()=>R,vI:()=>b,xL:()=>v,xn:()=>I});var s=i(859471),n=i(427471),o=i(743372),a=i(856748),l=i(616911),c=i(298146),d=i(640654),p=i(81920);let u=(e,t,i={},r=1)=>(0,p.GV)(`${e}.${t}`,{sampleRate:r,tags:i}),h=(e,t)=>n.A.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet(),m=(e,t)=>i=>n.A.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet().then(e=>e.resource_response?i((0,a.vv)(e.resource_response.data)):void 0),g=e=>t=>n.A.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t((0,a.iN)(e.resource_response.data)):void 0),b=(e,t)=>(i,r)=>{let{experiences:s}=r(),n=s[e];return n&&n.triggerable_placed_exps&&n.triggerable_placed_exps.length&&n.triggerable_placed_exps.forEach(i=>{let[,r]=i.split(":"),s=t,o=n?.metadata?.[r];o&&(s={...t,..."object"==typeof o?o:{}}),(0,c.A)({url:`/v3/experiences/${i.replace(":","%3A")}/trigger/`,method:"PUT",data:s?{extra_context:JSON.stringify(s,null,1)}:{}}).then(()=>{u("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:r})})}),Promise.resolve()},f=async(e,t,i={})=>{for(let r of e){let e=t[r];if(e&&e.triggerable_placed_exps&&e.triggerable_placed_exps.length)for(let t of e.triggerable_placed_exps){let[,s]=t.split(":"),n=e?.metadata?.[s],o=n&&"object"==typeof n&&!Array.isArray(n)?n:{},a={...i,...o};(0,c.A)({url:`/v3/experiences/${t.replace(":","%3A")}/trigger/`,method:"PUT",data:{extra_context:JSON.stringify(a,null,1)}}),u("experienceservice","experimentTriggerCall.1",{placement_id:r,experience_id:s})}}},v=(e,t,i,s,o)=>(c,h)=>{let m=(0,d.y)()?.experimentsClient;if(u("experience_framework.fetch_experiences_for_placements","called",{placement_ids:e.join(","),has_extra_context:!!i},.01),t)return Promise.resolve();if(s&&(r=s),1===e.length){let t=e[0],r=h().experiences[t];if(JSON.stringify(r?.extraContext||null)===JSON.stringify(i)||(0,l.lC)(r)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return n.A.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:s}).callGet().then(t=>{if(!t.resource_response)return;let r=t.resource_response.data||{};if(o){let{experiences:t}=h();l.$1.log("[MVC] Post Checks - Checking existing experiences in store"),e.forEach(e=>{let i=t[e];if(i&&0!==i.experience_id){var s;s=r[e],(0,p.GV)("experience_framework.fetch.post_check.failures",{sampleRate:.01,tags:{placement_id:e,experience_in_store:i.experience_id,experience_from_server:s?.experience_id}}),r[e]=i}})}m?.checkExperiment("experience_framework_web_immediately_trigger_experiments_for_placements_after_fetch").anyEnabled?f(e,r,i):e.forEach(e=>{c(b(e,i))}),c((0,a.YT)(r))})},_=(e,t,i,s)=>(o,l,c,d=!1,p,u)=>(h,g)=>{let{experiences:b,experiencesMulti:f}=g(),v=null,_=!0;if(d||(v=(_=!!b[o]&&b[o].experience_id===l)?b[o]:Array.isArray(f[o])&&f[o]?.find(e=>e.experience_id===l)),v&&v.experience_id===l||d&&o&&l){let d=n.A.create(e,{placed_experience_id:`${o}%3A${l}`,extra_context:p??{},targeting:u}),g=_?a.Uh:a.$d;switch(t){case"dismissed":return d.callDelete().then(()=>{h(g(o,l,t)),h(m(void 0,r)),i&&s&&i({event_type:s,object_id_str:l.toString()})});case"completed":return d.callUpdate().then(()=>{!c&&(h(g(o,l,t)),h(m(void 0,r)),i&&s&&i({event_type:s,object_id_str:l.toString()}))});case"viewed":return h(g(o,l,t)),d.callUpdate().then(()=>{1000162===o&&h(m()),i&&s&&i({event_type:s,object_id_str:l.toString()})});case"completedWithoutHomefeed":return d.callUpdate().then(()=>{c||h(g(o,l,t)),i&&s&&i({event_type:s,object_id_str:l.toString()})})}}return Promise.resolve()},x=()=>{let e=(0,o.A)();return(0,s.useCallback)(_("UserExperienceViewedResource","viewed",e,4503),[e])},w=()=>{let e=(0,o.A)();return(0,s.useCallback)((t,i,r,s=!1,n,o)=>(r,n)=>{let{experiences:o,experiencesMulti:c}=n(),d=null,u=!0;if(s||(d=(u=!!o[t]&&o[t].experience_id===i)?o[t]:Array.isArray(c[t])&&c[t]?.find(e=>e.experience_id===i)),d&&d.experience_id===i||s&&t&&i){let s=u?a.Uh:a.$d;l.$1.log(`[MVC] View-End - Removing experience ${t}:${i} from store.`),(0,p.GV)("experience_framework.view_end",{tags:{placement_id:t,experience_id:i}}),r(s(t,i,"view-end")),e&&e({event_type:4503,object_id_str:i.toString()})}return Promise.resolve()},[e])},E=()=>{let e=(0,o.A)();return(0,s.useCallback)(_("UserExperienceCompletedResource","completed",e,6567),[e])},y=()=>{let e=(0,o.A)();return(0,s.useCallback)(_("UserExperienceResource","dismissed",e,6568),[e])},I=()=>{let e=(0,o.A)();return(0,s.useCallback)(_("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},R=e=>(t,i)=>{t(b(e));let{experiences:r}=i();return r[e]},O=(e,t,i,s)=>n=>{i&&(r=i),n(b(e,t)),t&&Object.keys(t).length>0&&n(v([e],!1,t,i,s))}},932369(e,t,i){i.d(t,{vI:()=>r.vI,Pl:()=>o,hG:()=>r.hG,xn:()=>r.xn,My:()=>r.My,EZ:()=>r.EZ,Dz:()=>r.Dz,Hy:()=>r.Hy,fE:()=>l,Y4:()=>r.Y4,xL:()=>r.xL,_4:()=>r._4,sE:()=>r.sE,sj:()=>a});var r=i(250325),s=i(427471);let n=(e,t,i,n)=>(o,a)=>l=>{if(o&&o.id){let c=s.A.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then(()=>{l((0,r.$O)()),i&&n&&i({event_type:n,object_id_str:o.id.toString()})});break;case"completed":c.callUpdate().then(()=>{a||l((0,r.$O)()),i&&n&&i({event_type:n,object_id_str:o.id.toString()})});break;case"viewed":c.callUpdate().then(()=>{i&&n&&i({event_type:n,object_id_str:o.id.toString()})})}}},o=e=>n("UserExperienceCompletedResource","completed",e,6567),a=n("UserExperienceResource","dismissed"),l=e=>n("UserExperienceViewedResource","viewed",e,4503);i(586958),i(492072)},625844(e,t,i){i.d(t,{Dq:()=>s,KP:()=>o,RQ:()=>a,XB:()=>n,yU:()=>r});let r="REFRESH_ALL_EXPERIENCES_MULTI",s="UPDATE_EXPERIENCE_MULTI",n="FETCH_EXPERIENCES",o="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE"},856748(e,t,i){i.d(t,{$d:()=>n,Uh:()=>o,YT:()=>l,iN:()=>s,vv:()=>a});var r=i(625844);let s=e=>({type:r.yU,payload:{experiencesMulti:e}}),n=(e,t,i)=>({type:r.Dq,payload:{placementId:e,experienceId:t,status:i}}),o=(e,t,i)=>({type:r.RQ,payload:{placementId:e,experienceId:t,status:i}}),a=e=>({type:r.KP,payload:{experiences:e}}),l=e=>({type:r.XB,payload:{experiences:e}})},616911(e,t,i){i.d(t,{lC:()=>g,Du:()=>O,V6:()=>m,dz:()=>y,al:()=>v,NW:()=>f,JY:()=>I,Pf:()=>b,$1:()=>R,C3:()=>_});var r=i(859471),s=i(963522),n=i(671996),o=i(115795);let a=[11,1000168,40001],l={1:{id:1,route:"/",onRoute:o.rz,placements:[11,1000541,1000503,40001]},13:{id:13,route:"/business/hub/",onRoute:o.Zm,placements:[1000168]}};var c=i(307079),d=i(386379),p=i(81920),u=i(562615);let h={display_data:{},experience_id:1,id:"noop",placement_id:0,type:0};function m(e,t){let i=!!(e&&"object"==typeof e&&Object.keys(e).length>0&&Object.keys(h).every(t=>t in e))&&1!==e.experience_id&&0!==e.type;if(t){if(!i)return!1;if("experience_id"in t)return e.experience_id===t.experience_id;if("type"in t)return e.type===t.type;if("status"in t)return"status"in e&&e.status===t.status;throw Error("Invalid options provided to isExperience. Options must be one of: { experience_id: number }, { type: number }, or { status: ExperienceStatus }")}return i}function g(e){return!!e&&0!==e.type}let b=(e,t,i,r,s,n=!0)=>{let o="existingExperience";return r?g(r)?i&&(o="placementInSurface",!i.placements.includes(e))?{shouldRefresh:!0,refreshReasoning:"placementNotInSurface"}:s?(o="inSSRPlacement",a.includes(e)?{shouldRefresh:!1,refreshReasoning:o}:{shouldRefresh:!0,refreshReasoning:"notAnSSRPlacement"}):!n||(o="placementMounted",t.mountedPlacements[e]||t.registeredAfterActionPlacements[e])?{shouldRefresh:!1,refreshReasoning:o}:{shouldRefresh:!0,refreshReasoning:"placementNotMounted"}:{shouldRefresh:!0,refreshReasoning:"experienceNotRenderable"}:{shouldRefresh:!0,refreshReasoning:"noExistingExperience"}},f=(e,t,i)=>{let r=e[i];return t[i]&&g(r)?r:null};function v(e){return e.display_data?.anchor}function _(e){return Object.values(l).find(t=>t.onRoute?t.onRoute(e):t.route===e.pathname)}let x=/<(\w+)\s*([^>]*)>([^<]*)<\/\1>/gim,w=/(?:href)=["']?([^"'>\s\\]*)["']?/im,E=/(?:target)=["']?([^"'>\s\\]*)["']?/im,y=(e,t)=>{let i=function(e){let t=[],i=0;for(let r of Array.from(e.matchAll(x))){if(r.index>i){let s=e.slice(i,r.index);s&&t.push({type:"text",content:s})}let[s,n,o,a]=r;switch(n){case"a":t.push({type:"link",content:a||"",attrs:o||""});break;case"b":t.push({type:"bold",content:a||""});break;default:t.push({type:"text",content:s})}i=r.index+s.length}if(i<e.length){let r=e.slice(i);r&&t.push({type:"text",content:r})}return t}(e);return(0,u.jsx)(s.KJ,{inline:!0,size:t,children:i.map(({type:e,content:i,attrs:n},o)=>{switch(e){case"text":return(i?.split(`
`)||[]).map((e,n)=>(0,u.jsxs)(r.Fragment,{children:[n>0&&(0,u.jsx)("br",{}),(0,u.jsx)(s.KJ,{inline:!0,size:t,children:e})]},`${i}-${n}`));case"bold":return(0,u.jsx)(s.KJ,{inline:!0,size:t,weight:"bold",children:i},`${i}-${o}`);case"link":let a=n?.match(w),l=a&&a.length>1?a[1]:void 0,c=n?.match(E),p=c&&c.length>1?c[1]:void 0;if(!l)return(0,u.jsx)(s.KJ,{inline:!0,size:t,children:i},`${i}-${o}`);let h=!1;return h=(0,d.A)({url:l}),(0,u.jsx)(s.N_,{display:"inline",externalLinkIcon:h?"default":"none",href:l,rel:h?"nofollow":"none",target:"_blank"===p?"blank":void 0,children:i},`${l}-${o}`);default:return null}})})},I=()=>"u">typeof window&&performance&&performance.now?Math.floor(performance.now()):Math.floor(Date.now()),R=(0,c.A)()&&(0,c.A)().debug_experience_session?console:{log:(...e)=>{},error:(...e)=>{},warn:(...e)=>{}};function O(e,t,i,r=1){(0,p.GV)(n.pv,{sampleRate:1,tags:{experience_id:e,placement_id:t,reason:i,platform:r}})}},718882(e,t,i){function r(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{YA:()=>p,Ay:()=>h,EQ:()=>u});let s=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,n={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},o={},a={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${o[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[n.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[n.exit]:a,[n.stopped]:a,[n.paused]:a,[n.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){r(this,"lastIntersectionChange",null),r(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),r(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),r(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),r(this,"handleIntersectionVisibilityChange",(e,t)=>{this.lastIntersectionChange=e,[{type:1,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.top>=143&&e.boundingClientRect.top<t},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.top<143||e.boundingClientRect.top>=t}},{type:50,isVisible:e=>e.intersectionRatio>=.5,isHidden:e=>e.intersectionRatio<.5},{type:80,isVisible:e=>e.intersectionRatio>=.8,isHidden:e=>e.intersectionRatio<.8},{type:2,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.bottom<=t&&e.boundingClientRect.bottom>=143},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.bottom<143||e.boundingClientRect.bottom>t}}].forEach(({type:i,isVisible:r,isHidden:s})=>{r(e)?this.lastLoggedVisibleEvent[i]||(this.addVisibleEvent(i,t),this.lastLoggedVisibleEvent[i]=!0):s(e)&&this.lastLoggedVisibleEvent[i]&&(this.addHiddenEvent(i,t),this.lastLoggedVisibleEvent[i]=!1)})}),r(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,i=Date.now();this.handleIntersectionVisibilityChange(e,i),t&&!this.inViewport?(this.startTime=i,this.pinCellWidth=this.node.offsetWidth,this.pinCellHeight=this.node.offsetHeight,this._debug(n.enter,{startTime:i,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(n.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.pinCellWidth=0,this.pinCellHeight=0,this.visibleEvents=new Map,this.hiddenEvents=new Map,this.lastLoggedVisibleEvent={1:!1,50:!1,80:!1,2:!1}}addVisibleEvent(e,t){let i=this.visibleEvents.get(e)||[];i.push(1e6*t),this.visibleEvents.set(e,i)}addHiddenEvent(e,t){let i=this.hiddenEvents.get(e)||[];i.push(1e6*t),this.hiddenEvents.set(e,i)}hasVisibleEvent(e){return this.visibleEvents.has(e)}hasHiddenEvent(e){return this.hiddenEvents.has(e)}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,s&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this.addHiddenEvent(102,Date.now()),this._debug(n.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(n.resumed,{startTime:e}),this.startTime=e,this.addVisibleEvent(102,e),Object.keys(this.lastLoggedVisibleEvent).forEach(e=>{this.lastLoggedVisibleEvent[e]=!1}),this.lastIntersectionChange&&this.handleIntersectionVisibilityChange(this.lastIntersectionChange,e)}return this}stop(e){return this.inViewport&&(this._debug(n.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight,visibleEvents:this.visibleEvents,hiddenEvents:this.hiddenEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}_debug(e,t){if(s)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case n.flushed:case n.paused:case n.exit:o[this.debugId]=!0}}}function d(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let p=!0,u=!1;class h{constructor(){d(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),d(this,"_handleMutations",(e,t)=>{let i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=u,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let i=this.activeImpressions.get(e);i&&(i.stop(t),i.mutationObserver&&this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer?.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer?.observe(e);let i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),t.mutationObserver&&this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority===u&&(this.pausePriority=e))}resume(e=p){(e!==u||this.pausePriority!==p)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=u)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:i}=t.getBoundingClientRect();return i>e?i:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:i}=t.getBoundingClientRect();return i<e?i:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let i={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer?.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(e=>this.observer?.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},123576(e,t,i){i.d(t,{A:()=>r});let r=new(i(718882)).Ay},218358(e,t,i){i.d(t,{r:()=>r});let r={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",BUSINESS_HUB:"business_hub",UNKNOWN:"unknown"}},386379(e,t,i){i.d(t,{A:()=>s});var r=i(201447);let s=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,r.A)(e))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/38884-c61f66a7f78aa0fb.mjs.map