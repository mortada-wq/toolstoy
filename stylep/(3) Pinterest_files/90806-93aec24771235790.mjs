(self.modernJsonp=self.modernJsonp||[]).push([["90806"],{763041(e,t,n){n.d(t,{A:()=>d});var r,i,o=n(315075),a=n(542637),l=0,s=0;let d=function(e,t,n){var d=t&&n||0,c=t||Array(16),u=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==p){var h=e.random||(e.rng||o.A)();null==u&&(u=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=i=(h[6]<<8|h[7])&16383)}var _=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:s+1,f=_-l+(m-s)/1e4;if(f<0&&void 0===e.clockseq&&(p=p+1&16383),(f<0||_>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=_,s=m,i=p;var g=((0xfffffff&(_+=122192928e5))*1e4+m)%0x100000000;c[d++]=g>>>24&255,c[d++]=g>>>16&255,c[d++]=g>>>8&255,c[d++]=255&g;var A=_/0x100000000*1e4&0xfffffff;c[d++]=A>>>8&255,c[d++]=255&A,c[d++]=A>>>24&15|16,c[d++]=A>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var b=0;b<6;++b)c[d+b]=u[b];return t||(0,a.A)(c)}},754423(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};r.hash="0e2c441822700a6145ea7cd142c0425b";let i=r},52919(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};r.hash="35b139c2e951baaa6624b30e45f913ce";let i=r},470166(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};r.hash="8d95294efe15498023c69669c6a41e71";let i=r},638025(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};r.hash="f459445ee8d1ea0db022e490ef5a2e80";let i=r},829111(e,t,n){n.r(t),n.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRep_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"PinRep_parentPin"}],type:"Pin",abstractKey:null};r.hash="9c0000d5884ff2a1347c1278f1d95042";let i=r},130215(e,t,n){var r;n.r(t),n.d(t,{default:()=>o});let i={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:r=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:r,storageKey:null}]},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};i.hash="51989dcefa62862d9443ed3d243ffdbf";let o=i},432321(e,t,n){n.d(t,{A:()=>i});var r=n(640654);function i(){return(0,r.y)()}},127413(e,t,n){n.d(t,{A:()=>o});var r=n(570068);let i=`pulsing {
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
}`,o={css:(0,r.m5)([i]),animation:"pulsing 2s infinite"}},944030(e,t,n){n.d(t,{A:()=>c,U:()=>d});var r=n(61163),i=n(859471),o=n(963522),a=n(538329),l=n(629494),s=n(562615);let d="media-viewer-full";function c({children:e,onOutsideClick:t,onKeyboardExit:n}){(0,i.useEffect)(()=>{(0,r.A)("CloseupMediaViewerBackdrop","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/MediaViewer/CloseupMediaViewerBackdrop.tsx")},[]);let c=(0,a.A)();return(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&n()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n]),(0,s.jsx)(i.Fragment,{children:(0,s.jsxs)(o.az,{alignItems:"center","aria-label":c._('Media Viewer', 'closeup.mediaViewer.label', 'Label of Media Viewer modal'),"aria-modal":"true","data-test-id":d,display:"flex",height:"100vh",justifyContent:"center",left:!0,position:"fixed",role:"dialog",top:!0,width:"100vw",zIndex:l.y,children:[e,(0,s.jsx)("div",{onClick:e=>{e.target===e.currentTarget&&t()},role:"presentation",style:{backgroundColor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(4px)",position:"absolute",bottom:0,left:0,right:0,top:0,marginBottom:"-1px"}})]})})}},154508(e,t,n){n.d(t,{$c:()=>_,BQ:()=>p,CD:()=>P,Ce:()=>u,GY:()=>c,IO:()=>T,Kd:()=>E,NC:()=>s,OU:()=>S,T3:()=>h,Vc:()=>b,Y:()=>R,Yc:()=>f,Yo:()=>A,ZL:()=>l,aP:()=>m,iI:()=>v,kj:()=>y,lr:()=>w,nQ:()=>x,qw:()=>C,sE:()=>g,ul:()=>d,zQ:()=>I});var r=n(963522),i=n(944030),o=n(917348),a=n(678358);let l={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},s=e=>`${e.substring(0,33)}${e.length>33?"...":""}`,d=375,c=4,u=new Set(["related_modules_header","related_products_feed_header"]),p=({verticalNavWidth:e})=>({BREAKPOINT:1056+e,BACKBUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:814+e}),h=16,_=64,m=290,f=100,g=480,A=new r.rk(5);function b(e=0,t=0){let{peekCloseupEnabled:n,viewportSize:r}=(0,a._G)(),i=(0,o.A)();if(!n)return{maxWidth:void 0,maxHeight:void 0,fiftyPercentWidth:void 0,fiftyPercentHeight:void 0};let l={sm:96,md:96,lg:244}[r],s={sm:_,md:_,lg:_}[r],d=`100vw - ${2*l}px - ${e}px`,c=`100vh - 80px - ${s}px - ${t}px`,u={maxWidth:`calc(${d})`,maxHeight:`calc(${c})`,fiftyPercentWidth:"sm"===r?`calc(${d})`:`calc((${d})/2)`,fiftyPercentHeight:`calc((${c})/2)`};if(i)return u;let p=window?.innerWidth-2*l-e,h=window?.innerHeight-80-s-t;return{...u,numericValues:{maxWidth:p,maxHeight:window?.innerHeight-80-s-t,fiftyPercentWidth:"sm"===r?p:p/2,fiftyPercentHeight:h/2}}}function y({objectFit:e,variant:t}){let{peekCloseupEnabled:n,viewportSize:r}=(0,a._G)(),{maxHeight:o,maxWidth:l,fiftyPercentHeight:s,fiftyPercentWidth:d}=b();if("media-viewer"===t)return{};let c=`video:not([data-test-id=${i.U}] video)`;return{styleOverrides:n?`
      ${c} {
        max-height: ${"sm"===r?s:o};
        max-width: ${d};
      }
    `:"",objectFit:n?"contain":e,maxHeight:o,maxWidth:l,fiftyPercentHeight:s}}function E({peekCloseupEnabled:e,viewportSize:t,surface:n}){return!!e&&"lg"===t&&"ShoppingGridSmallCarousel"===n}let v={columnSpan:{sm:2,md:2,_lg1:3,lg:3,xl:5},type:"closeup_module",virtualize:!1},P={md:4,lg:4,lg1:4,xl:5},x={columnSpan:{sm:2,md:4,lg1:4,lg:5,xl:6},type:"closeup_module",virtualize:!1},I={columnSpan:{sm:2,md:2,_lg1:2,lg:2,xl:4},type:"shopping_module",virtualize:!1},S="1px solid var(--sema-color-background-secondary)",w="var(--sema-color-background-default, #FFFFFF)",C={boxShadow:"unset",borderRadius:16},T={columnSpan:{sm:2,md:2,_lg1:2,lg:2,xl:2},type:"inclusive_filters_module",virtualize:!1},R={closeupWrapperStyle:{cursor:"zoom-out",display:"flex",width:"100%"},storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}}},103892(e,t,n){n.d(t,{A:()=>o});var r=n(601185),i=n(971289);function o(){let e=(0,i.M)(),{checkExperiment:t}=(0,r.A)();return{inAffiliateDisclosureEnabled:e?t("mweb_closeup_affiliate_discloseures").anyEnabled:t("web_closeup_affiliate_discloseures").anyEnabled}}},360898(e,t,n){n.d(t,{A:()=>z});var r=n(61163),i=n(859471),o=n(106386),a=n(963522),l=n(949356),s=n(514357),d=n(398380),c=n(408189),u=n(616911),p=n(693154),h=n(538329),_=n(81920),m=n(562615);function f({footerText:e}){(0,i.useEffect)(()=>{(0,r.A)("ExperiencePhoneCollectionModalForm","/app/common/react/components/experiences/ExperiencePhoneCollectionModal/ExperiencePhoneCollectionModalForm.tsx")},[]);let t=(0,h.A)();return(0,m.jsxs)(a.so,{direction:"column",flex:"grow",gap:{column:2,row:0},width:"100%",children:[(0,m.jsxs)(a.so,{alignItems:"center",gap:{row:1,column:0},justifyContent:"start",children:[(0,m.jsx)(a.In,{accessibilityLabel:t._('Lock logo', 'experiencePhoneCollectionModal.footerText.lockLogoAccessibilityLabel', 'Accessibility label for lock logo'),color:"subtle",icon:"lock",size:12}),(0,m.jsx)(a.KJ,{size:"100",children:t._('Your phone number won\'t show on your profile', 'experiencePhoneCollectionModal.text.privacy', 'Text body for privacy statement')})]}),(0,u.dz)(e||"","100")]})}function g({imageUrl:e,headerText:t,subtitleText:n,onE164PhoneNumberChange:o,onSendCode:f,onDismiss:g,inlineError:A,setInlineError:b,logger:y}){(0,i.useEffect)(()=>{(0,r.A)("ExperiencePhoneCollectionModalForm","/app/common/react/components/experiences/ExperiencePhoneCollectionModal/ExperiencePhoneCollectionModalForm.tsx")},[]);let E=(0,h.A)(),v=(0,p.A)(),P=v.isAuth?v:void 0,x=P?v.unverified_phone_region:void 0,I=P?v.unverified_phone_number:void 0,S=P?v.country:void 0,w=I?(0,l.o)(I)?.nationalNumber.toString():"",[C,T]=(0,i.useState)(w||""),{data:R,isLoaded:O,error:j}=(0,c.A)(),k=e=>{let t=R?.find(t=>t.code===e);return t?.phone_code||""},N=(0,i.useMemo)(()=>{if(O&&R&&S){let e=R.find(e=>e.code===S);return e?.code||""}return""},[O,R,S]),[z,B]=(0,i.useState)(void 0),M=z||x||N;(0,i.useEffect)(()=>{j&&(0,_.GV)("experience_phone_collection_modal.country_codes_load_error",{sampleRate:.1,tags:{error_code:j.api_error_code?String(j.api_error_code):void 0,error_message:j.message||"Unknown error"}})},[j]);let D=(e,t)=>k(e).replace(/\D/g,"").length+t.length,L=(e,t)=>{let n=()=>{(0,s.Om)({eventType:18372,component:15580,logger:y})},r=E._('You entered an invalid phone number', 'experiencePhoneCollectionModal.phoneNumber.error', 'Phone number validation error message');if(0===t.length){b(void 0),o(void 0),n();return}let i=(0,s.mb)(t);if(!/^\d+$/.test(i)||D(e,i)>15){b(r),o(void 0),n();return}let a=k(e)+i;b(void 0),o(a)};(0,i.useEffect)(()=>{O&&M&&C&&L(M,C)},[O,M]);let F=!O||!!j,U=!!A||7>D(M,(0,s.mb)(C))||F;return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(a.az,{height:275,overflow:"hidden",width:540,children:(0,m.jsx)(a._V,{alt:E._('Phone collection modal image', 'experiencePhoneCollectionModal.image.alt', 'Alt text for phone collection modal image'),fit:"cover",naturalHeight:275,naturalWidth:540,src:e})}),(0,m.jsxs)(a.az,{marginTop:4,paddingX:6,children:[(0,m.jsx)(a._Y,{accessibilityLevel:1,size:"600",children:t}),(0,m.jsx)(a.az,{marginBottom:4,marginTop:2,children:(0,u.dz)(n||"","300")}),(0,m.jsx)(d.A,{countryCodeList:R,countryCodeListError:j,disabled:F,errorMessage:j?E._('Error loading country code list', 'experiencePhoneCollectionModal.countryCodeList.error', 'Error message when country code list fails to load'):void 0,label:E._('Country code', 'experiencePhoneCollectionModal.countryCode.label', 'Label for country code selection'),onChange:e=>{A&&b(void 0),B(e),C.length>0?L(e,C):o(void 0)},userCountry:S,value:M}),(0,m.jsx)(a.az,{marginBottom:4,children:(0,m.jsx)(a.A_,{disabled:F,errorMessage:A,id:"phoneNumber",label:E._('Phone number', 'experiencePhoneCollectionModal.phoneNumber.label', 'Label for phone number input'),onChange:({value:e})=>{T(e),L(M,e)},onFocus:()=>(0,s.Om)({eventType:8721,component:15580,element:18095,logger:y}),onKeyDown:({event:e})=>{"Enter"===e.key&&(e.preventDefault(),U||f())},placeholder:E._('Enter your phone number', 'experiencePhoneCollectionModal.phoneNumberPlaceholder', 'Placeholder for phone number input'),size:"lg",type:"tel",value:C})}),(0,m.jsx)(a.az,{marginBottom:1,children:(0,m.jsxs)(a.so,{direction:"column",flex:"grow",gap:{column:2,row:0},width:"100%",children:[(0,m.jsx)(a.$n,{color:"primary",disabled:U,fullWidth:!0,onClick:f,text:E._('Send code', 'experiencePhoneCollectionModal.button.primary', 'Primary button text to send code')}),(0,m.jsx)(a.$n,{color:"transparent",fullWidth:!0,onClick:()=>{g(),(0,s.Om)({eventType:102,element:13933,component:15580,logger:y})},text:E._('Not now', 'experiencePhoneCollectionModal.button.secondary', 'Dismiss button text')})]})})]})]})}function A(){(0,i.useEffect)(()=>{(0,r.A)("ExperiencePhoneCollectionModalVerificationStep","/app/common/react/components/experiences/ExperiencePhoneCollectionModal/ExperiencePhoneCollectionModalVerificationStep.tsx")},[]);let e=(0,h.A)();return(0,m.jsxs)(a.so,{direction:"column",gap:{column:2,row:0},justifyContent:"between",children:[(0,m.jsx)(a._Y,{size:"600",children:e._('Enter the code', 'experiencePhoneCollectionModal.verificationStep.title', 'Title for verification step modal')}),(0,m.jsx)(a.KJ,{size:"300",children:e._('To confirm and help secure your account, we\'ve sent a code to your phone number.', 'experiencePhoneCollectionModal.verificationStep.subtitle', 'Subtitle for verification step modal that explains code was sent to phone number')})]})}function b({onDismiss:e,onConfirmCode:t,isConfirmDisabled:n,logger:o}){(0,i.useEffect)(()=>{(0,r.A)("ExperiencePhoneCollectionModalVerificationStep","/app/common/react/components/experiences/ExperiencePhoneCollectionModal/ExperiencePhoneCollectionModalVerificationStep.tsx")},[]);let l=(0,h.A)();return(0,m.jsxs)(a.so,{gap:{row:2,column:0},justifyContent:"end",children:[(0,m.jsx)(a.$n,{color:"transparent",onClick:()=>{e(),(0,s.Om)({eventType:102,element:73,component:15581,logger:o})},size:"lg",text:l._('Cancel', 'experiencePhoneCollectionModal.verificationStep.button.secondary', 'Cancel button text for verification step')}),(0,m.jsx)(a.$n,{color:"primary",disabled:n,onClick:t,size:"lg",text:l._('Confirm', 'experiencePhoneCollectionModal.verificationStep.button.primary', 'Confirm button text for verification step')})]})}function y({onCodeChange:e,onResendCode:t,onConfirmCode:n,isConfirmDisabled:o,otpCode:l,inlineError:d,setInlineError:c,logger:u}){(0,i.useEffect)(()=>{(0,r.A)("ExperiencePhoneCollectionModalVerificationStep","/app/common/react/components/experiences/ExperiencePhoneCollectionModal/ExperiencePhoneCollectionModalVerificationStep.tsx")},[]);let p=(0,h.A)();return(0,m.jsxs)(a.az,{paddingX:6,paddingY:1,children:[(0,m.jsx)(a.A_,{errorMessage:d,id:"enter-code",onChange:({value:t})=>{d&&c(void 0),e(t||void 0)},onFocus:()=>(0,s.Om)({eventType:8721,component:15581,logger:u}),onKeyDown:({event:e})=>{"Enter"!==e.key||o||(e.preventDefault(),n())},placeholder:p._('Enter code', 'experiencePhoneCollectionModal.verificationStep.placeholder', 'Placeholder text to send code for verification step modal'),size:"lg",type:"text",value:l||""}),(0,m.jsx)(a.az,{marginTop:4,children:(0,m.jsx)(a.KJ,{color:"default",size:"100",children:(0,m.jsx)(a.N_,{href:"",onClick:({event:e})=>{e.preventDefault(),t(),(0,s.Om)({eventType:102,element:16033,component:15581,logger:u})},underline:"always",children:p._('Send a new code', 'experiencePhoneCollectionModal.verificationStep.resendCode', 'Resend code text for verification step modal')})})})]})}var E=n(917855),v=n(586733),P=n(822727),x=n(257300),I=n(989457),S=n(62963),w=n(657171),C=n(307424),T=n(168079),R=n(584342);let O=new a.rk(R.d1),j=new a.K5([O]),k=new a.rk(2e3);function N({experience:e,placementId:t}){let[n,r]=(0,i.useState)(void 0),o=(0,h.A)(),[l,d]=(0,i.useState)(!1),c=(0,s.cb)(),[p,R]=(0,i.useState)(!0),[O,N]=(0,i.useState)(void 0),[z,B]=(0,i.useState)(!1),[M,D]=(0,i.useState)(void 0),{logContextEvent:L}=(0,v.o)(),F=e?.display_data?(0,S.A)(C.A)(e.display_data):{},U=F?.phoneValueProp,V=!!(F.headerText&&F.subtitleText&&F.footerText&&F.headerImage&&F.headerImage["564x"]);if((0,T.A)(()=>{V&&L({event_type:13,view_type:132,component:15580,...U&&{aux_data:{phone_value_prop:U}}})}),!V)return(0,u.Du)(e?.experience_id??0,t??0,"Required display data not present",1),null;let{headerText:H,subtitleText:W,footerText:G,headerImage:$}=F,Y=$["564x"],K=o._('There was an error sending the verification code', 'experiencePhoneCollectionModal.sendCode.error', 'Error message shown when sending verification code fails'),J=async({onSuccess:e,phoneValueProp:t,stepName:r})=>{if(!n){(0,_.GV)("experience_phone_collection_modal.e164_phone_number_missing",{sampleRate:.1}),c(K,"error");return}B(!0);try{let r=await new Promise((e,t)=>{(0,w.x6)(t=>{e(t)},e=>{t(e)},w.ZK)});await (0,x.A)({url:"/v3/verifications/send/",method:"POST",data:{channel:"sms",phone_recipient:n,recaptcha_token:r,...t&&{phone_value_prop:t}}}),c(o._('Code sent', 'experiencePhoneCollectionModal.verificationStep.sendCode.success', 'Success message shown when code is sent'),"success"),e?.()}catch(e){(0,s.hS)({error:e,defaultErrorMessage:K,setInlineError:D,showToast:c,metricName:"experience_phone_collection_modal.send_code_error",step:r})}finally{B(!1)}},q=async()=>{(0,s.Om)({eventType:102,element:18451,component:15580,logger:L}),await J({onSuccess:()=>{D(void 0),d(!0),(0,s.Om)({eventType:13,viewType:132,component:15581,logger:L})},stepName:"collection",phoneValueProp:U})};return p&&(0,m.jsx)(P.Ay,{eligibleTypes:[35],experience:e,placementId:t,children:({complete:e,dismiss:t})=>{let d=()=>{t(),R(!1)},u=async()=>{if((0,s.Om)({eventType:102,element:18454,component:15581,logger:L}),!O)return void c(o._('Please enter a code', 'experiencePhoneCollectionModal.verificationStep.confirmCode.error', 'Error message shown when no code is entered'),"error");B(!0);try{await (0,x.A)({url:"/v3/verifications/check/",method:"POST",data:{code:O,phone_recipient:n}}),c(o._('Phone number confirmed', 'experiencePhoneCollectionModal.verificationStep.confirmCode.success', 'Success message shown when verification code is confirmed'),"success"),(0,s.Om)({eventType:18374,component:15581,logger:L}),R(!1),e()}catch(n){let e=o._('That code didn\'t work. Try again.', 'experiencePhoneCollectionModal.verificationStep.confirmCode.error', 'Error message shown when confirming phone number fails'),t=(0,s.hS)({error:n,defaultErrorMessage:e,setInlineError:D,showToast:c,metricName:"experience_phone_collection_modal.confirm_code_error",step:"verification"});(0,s.Om)({eventType:18386,component:15581,auxData:{invalid_reason:t},logger:L})}finally{B(!1)}},p=!O||6!==O.length;return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(a.Wd,{zIndex:j,children:(0,m.jsx)(I.aF,{accessibilityModalLabel:o._('Modal to collect phone number', 'experiencePhoneCollectionModal.modal.accessibilityLabel', 'Accessibility label for phone collection modal'),closeOnOutsideClick:!1,footer:l?(0,m.jsx)(b,{isConfirmDisabled:p,logger:L,onConfirmCode:u,onDismiss:d}):(0,m.jsx)(f,{footerText:G}),heading:l?(0,m.jsx)(A,{}):void 0,onDismiss:d,size:"sm",children:l?(0,m.jsx)(y,{inlineError:M,isConfirmDisabled:p,logger:L,onCodeChange:N,onConfirmCode:u,onResendCode:()=>J({phoneValueProp:U,stepName:"verification"}),otpCode:O,setInlineError:D}):(0,m.jsx)(g,{headerText:H,imageUrl:Y,inlineError:M,logger:L,onDismiss:d,onE164PhoneNumberChange:r,onSendCode:q,setInlineError:D,subtitleText:W})})}),z&&(0,m.jsx)(a.Wd,{zIndex:k,children:(0,m.jsx)(E.A,{})})]})}})}function z({experience:e,placementId:t}){(0,i.useEffect)(()=>{(0,r.A)("ExperiencePhoneCollectionModal","/app/common/react/components/experiences/ExperiencePhoneCollectionModal/ExperiencePhoneCollectionModal.tsx")},[]);let n=(0,o.d4)(({experiences:n})=>e||(t?n[t]:void 0));return n?.type!==35?null:(0,m.jsx)(N,{experience:n,placementId:t})}},708261(e,t,n){n.d(t,{A:()=>k});var r=n(61163),i=n(859471),o=n(963522);let a="select_pins",l="board_picker",s="create_board";var d=n(528911),c=n(586733),u=n(79906),p=n(538329),h=n(593936),_=n(106386),m=n(979638),f=n(457315),g=n(567176),A=n(542975),b=n(601185),y=n(430705),E=n(706466),v=n(897983),P=n(400235),x=n(562615);function I({isFirstBoardCreation:e,isResUserFirstBoardCreation:t=!1,isOnSelectStep:n,onClickBackButton:a,onDismiss:l,selectedPinCount:s}){(0,i.useEffect)(()=>{(0,r.A)("BoardlessPinsModalHeading","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsModalHeading.tsx")},[]);let d=(0,p.A)(),c=d._('Organize into a board', 'boardlessPins.modalHeading.organizeHeading', 'Heading for modal to add unorganized Pins to board'),u=s>0?(0,A.vQ)(d.ngettext('{{ pinCount }} selected', '{{ pinCount }} selected', s, 'boardlessPins.modalHeading.PinCountHeading', 'number of Pins selected'),{pinCount:s}):c,h=d._('Create board', 'boardlessPins.modalHeading.createBoardHeading', 'Heading for modal to create new board with unorganized Pins');return(0,x.jsxs)(o.az,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:8,position:"relative",children:[e||n||t?(0,x.jsx)(o.az,{height:40,width:40}):(0,x.jsx)(o.K0,{accessibilityLabel:d._('Go back to previous modal', 'boardlessPins.modalHeading.arrowBackIconButton', 'Accessibility label for back button'),disabled:n,icon:"chevron-left",iconColor:n?"inverse":"default",onClick:a,size:"md"}),(0,x.jsx)(o.az,{maxWidth:486,children:(0,x.jsx)(o._Y,{align:"center",size:"600",children:n?u:h})}),(0,x.jsx)(o.K0,{accessibilityLabel:d._('Cancel changes', 'boardlessPins.modalHeading.cancelIconButton', 'Accessibility label for close modal button'),icon:"close",iconColor:"default",onClick:l,size:"md"})]})}var S=n(514201),w=n(513010),C=n(517750),T=n(504252),R=n(720407);function O({boardlessPinsBoardId:e,currentStep:t,hasBoards:n,isOnSelectStep:d,onDismiss:c,selectedPins:h,updateCurrentStep:O,userId:j,isFirstBoardCreation:k=!1,isResUserFirstBoardCreation:N=!1,showRepinAnimation:z,onComplete:B}){(0,i.useEffect)(()=>{(0,r.A)("BoardlessPinsBoardPicker","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsBoardPicker.tsx")},[]);let M=(0,p.A)(),D=(0,R.A)(),[L,F]=(0,i.useState)(!1),[U,V]=(0,i.useState)(""),[H,W]=(0,i.useState)(""),{checkExperiment:G}=(0,b.A)(),$=(0,y.A)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker"}}),Y=(0,_.wA)(),K=(0,m.Zp)(),J=(0,E.CG)(),q=h[0],Q=h.map(e=>e.image).filter(e=>!!e),X=(t,n)=>{let r=h.map(e=>e.id);Y((0,C.A)({selectedPinIds:r,source:{boardId:e,sectionId:null},target:{boardId:t,sectionId:n||null}},M)),Y((0,w.J6)({feedId:j,feedType:T.A.BOARDLESS_PINS,itemIds:r,itemType:"pin"}))},Z=async()=>{try{let e=await D({boardCreateOptions:{name:H,privacy:L?"secret":"public",aux_data:{source:"organize_pins"}}});if(X(e.id),c(),k&&G("ap_dweb_first_board_creation",{dangerouslySkipActivation:!0}).group.includes("genie")){J.showToast(({hideToast:t})=>(0,x.jsx)(g.A,{duration:3e3,imageUrl:h[0]?.image?.url??"",onHide:t,text:(0,x.jsx)(o.KJ,{overflow:"normal",size:"200",children:(0,A.$w)({text:M._('Saved to <a id="1">{{ boardName }}</a>', 'BoardlessPinsBoardPicker.SavedToBoardToast.Message', 'Saved to label for better save. boardName: url to saved board'),markers:{boardName:e.name??""},jsxReplacements:{1:({innerHtmlStrings:t})=>(0,x.jsx)(o.N_,{display:"block",href:e.url??"",children:(0,x.jsx)(o.KJ,{lineClamp:1,size:"200",weight:"bold",children:t},"PostSavedPinToastBoardName")})}})}),thumbnail:{icon:(0,x.jsx)(o.In,{accessibilityLabel:M._('Saved to profile thumbnail', 'BoardlessPinsBoardPicker.thumbnail.accessibilityLabel', 'Thumbnail for saved to profile.'),color:"default",icon:"clock-history",size:24})}}));let t=h.map(e=>e.id);z?.(t[0]??""),B?.()}else J.showToast(({hideToast:e})=>(0,x.jsx)(g.A,{onHide:e,text:M._('Board created!', 'BoardlessPinsBoardPicker.boardCreated.toast', 'Confirmation that a board was created')})),B?.(),e.url&&K(e.url,{replace:!0})}catch(t){let e=M._('Uh oh! Something went wrong.', 'BoardlessPinsBoardPicker.boardCreate.submitErrorDefault', 'Default submit error text when board create fails');if("string"==typeof t)e=t;else{let n=(0,f.A)(t,"message");if(n){let r=(0,f.A)(t,"message_detail");e=r?`${n} ${r}`:n}}V(e)}},ee=(0,x.jsxs)(o.az,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:5,position:"relative",children:[(0,x.jsx)(o.K0,{accessibilityLabel:M._('Go back', 'BoardlessPinsBoardPicker.modalHeading.arrowBackIconButton', 'Accessibility label for back button'),disabled:d,icon:"chevron-left",iconColor:d?"inverse":"default",onClick:()=>O(a),size:"md"}),(0,x.jsx)(o._Y,{align:"center",size:"600",children:M._('Move to a board', 'BoardlessPinsBoardPicker.save.modalTitle', 'Title of modal for moving pins to a board')}),(0,x.jsx)(o.K0,{accessibilityLabel:M._('Cancel changes', 'BoardlessPinsBoardPicker.modalHeading.cancelIconButton', 'Accessibility label for close modal button'),icon:"close",iconColor:"default",onClick:()=>c(l),size:"md"})]});return n&&t!==s?(0,x.jsx)(u.Ay,{accessibilityModalLabel:M._('Move to a board', 'BoardlessPinsBoardPicker.chooseExistingBoardsModal.accessibilityLabel', 'Accessibility Label for modal to move unorganized Pins to another board'),heading:ee,onDismiss:()=>c(l),size:"md",children:(0,x.jsx)(o.az,{padding:1,children:(0,x.jsx)(P.K$,{boardResource:$,changeBoardModal:!0,onBoardCreate:({title:e=""}={})=>{W(e),O(s)},onItemChosen:e=>{X(e.boardId,e.sectionId),J.showToast(({hideToast:t})=>(0,x.jsx)(g.A,{onHide:t,text:(0,A.vQ)(M._('Moved to {{boardName}}', 'BoardlessPinsBoardPicker.onItemChosen.toast', 'Toast for successfully moving pin to a different board'),{boardName:e.title}).join("")})),c()},paneHeight:644,paneWidth:720,pinId:q.id,surface:v.A.ORGANIZE_PINS})})}):(0,x.jsx)(u.Ay,{accessibilityModalLabel:M._('Create board', 'BoardlessPinsBoardPicker.createBoard.accessibilityLabel', 'Accessibility Label for modal to create a board'),footer:(0,x.jsx)(o.so,{justifyContent:"end",children:(0,x.jsx)(o.$n,{color:"primary",disabled:0===H.trim().length,onClick:Z,size:"lg",text:M._('Create', 'BoardlessPinsBoardPicker.boardCreate.createButton', 'Button to create new board to move Pins to')})}),heading:(0,x.jsx)(I,{isOnSelectStep:!1,isResUserFirstBoardCreation:N,onClickBackButton:()=>{O(n?l:a)},onDismiss:()=>c(s),selectedPinCount:h.length}),onDismiss:()=>c(s),size:"md",children:(0,x.jsx)(o.az,{height:644,children:(0,x.jsx)(S.A,{boardThumbs:Q,isSecret:L,name:H,onNameChange:({value:e})=>{e.trim()?V(""):V(M._('Don\'t forget to name your board!', ' - ', ' -- ')),W(e)},onVisibilityChange:({checked:e})=>F(e),submitError:U})})})}var j=n(699613);function k({boardlessPinsNormalized:e,fetchMore:t,hasBoards:n,isFirstBoardCreation:_=!1,isResUserFirstBoardCreation:m=!1,onDismiss:f,userId:g,showRepinAnimation:A,onComplete:b,lastSavedPin:y}){(0,i.useEffect)(()=>{(0,r.A)("BoardlessPinsOrganizeModal","/app/common/react/components/profile/ProfileBoards/BoardlessPins/BoardlessPinsOrganizeModal.tsx")},[]);let E=(0,p.A)(),v=(0,i.useRef)(null),[P,S]=(0,i.useState)(m?s:a),{logContextEvent:w}=(0,c.o)(),C=(0,j.zy)(),T=(0,i.useMemo)(()=>e&&C?e.reduce((e,t)=>{let n=C[t.id];return e.push(n),e},[]):[],[e,C]),R=T[0]?.board?.id??"",[k,N]=(0,i.useState)(()=>_&&T.length?T.reduce((e,t)=>(t&&e.push({id:t.id,image:_?t.images?.["236x"]??null:t.images?.["170x"]??null}),e),[]):m&&y?[y]:[]),z=(e,t)=>{let n,r=[...k];t?(_?w({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!0}}):w({event_type:7301,view_type:631,view_parameter:3906,object_id_str:e.id,aux_data:{selected:!0,pin_id:e.id}}),n=r.concat({id:e.id,image:_?e.images?.["236x"]:e.images?.["170x"]})):(_?w({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!1}}):w({event_type:14667,view_type:631,view_parameter:3906,object_id_str:e.id,aux_data:{selected:!1,pin_id:e.id}}),n=r.filter(t=>t.id!==e.id)),N(n)};(0,i.useEffect)(()=>{let e;P===a?e=_?4166:3906:P===l?e=_?4167:3133:P===s&&(e=3992),(P===a||P===l||P===s)&&w({event_type:13,view_type:_?740:631,view_parameter:e})},[P,_,w]);let B=P===a;return(0,x.jsx)(i.Fragment,{children:B?(0,x.jsx)(u.Ay,{accessibilityModalLabel:E._('Organize into a board', 'boardlessPins.organizeModal.accessibilityLabel', 'Accessibility Label for modal to move unorganized Pins to a board'),footer:(0,x.jsx)(o.so,{justifyContent:"end",children:(0,x.jsx)(o.$n,{color:"primary",disabled:0===k.length,onClick:()=>{w({event_type:101,view_type:_?740:631,view_parameter:_?4166:3906,element:_?96:14187}),S(l)},size:"lg",text:E._('Next', 'boardlessPins.organizeModal.nextButton', 'Button to go from selecting Pins step to board creation step')})}),heading:(0,x.jsx)(I,{isFirstBoardCreation:_,isOnSelectStep:B,onClickBackButton:()=>S(a),onDismiss:()=>f(P),selectedPinCount:k.length}),onDismiss:()=>f(P),size:"md",children:(0,x.jsx)(o.az,{ref:v,height:428,children:T&&v&&(0,x.jsx)(h.n,{children:(0,x.jsx)(o.a,{columnWidth:152,gutterWidth:16,items:T,loadItems:t,renderItem:({data:e,itemIdx:t})=>(0,x.jsx)(d.A,{handleTogglePinSelection:z,index:t,isSelected:!!k.filter(t=>t.id===e.id).length,pin:e,surface:"SelectableBoardlessPin",unselectedState:"no-selection"}),scrollContainer:()=>v.current})})})}):(0,x.jsx)(O,{boardlessPinsBoardId:R,currentStep:P,hasBoards:n,isFirstBoardCreation:_,isOnSelectStep:B,isResUserFirstBoardCreation:m,onComplete:b,onDismiss:f,selectedPins:k,showRepinAnimation:A,updateCurrentStep:e=>S(e),userId:g})})}},528911(e,t,n){n.d(t,{A:()=>d});var r=n(61163),i=n(859471),o=n(963522),a=n(937176),l=n(699613),s=n(562615);function d({handleTogglePinSelection:e,index:t,isSelected:n,isDisabled:d,pin:c,surface:u,unselectedState:p="deselected-image-only",disableHover:h}){(0,i.useEffect)(()=>{(0,r.A)("SelectablePin","/app/common/react/components/profile/ProfileBoards/BoardlessPins/SelectablePin.tsx")},[]);let _=(0,l.HR)()(c.id);return(0,s.jsx)(o.Rp,{disabled:d,onTap:()=>{e(c,!n)},rounding:400,children:(0,s.jsx)(a.A,{attributionOption:"hide",blockClickEvents:!0,disableHover:h,parentPinKey:null,pinImageCrop:"none",pinKey:{type:"Legacy",data:_??c},saveButtonOptions:{type:"none"},selectionState:n?"selected-image-only":p,slotIndex:t,surface:u,viewType:3})})}},188148(e,t,n){n.d(t,{A:()=>r});function r({maxPrice:e,minPrice:t,price:n}){return e&&t?`${t}-${e}`:n}},662449(e,t,n){n.d(t,{V:()=>p,Xv:()=>h,qD:()=>d});var r=n(859471),i=n(979638),o=n(987628),a=n(567365),l=n(562615);let{Provider:s,get:d}=(0,o.A)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,t){let n={action:t.action,location:t.location,matchedPath:t.matchedPath};if(t.location===e.current?.location)return e;switch(t.action){case"POP":if(e.forward.length>0&&c(e.forward[0].location)===c(n.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.action},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,matchedPath:e.current.matchedPath}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,matchedPath:e.current.matchedPath},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.action},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,matchedPath:e.current.matchedPath}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function p(){let{current:e,previous:t}=d();return(0,r.useMemo)(()=>e?t.concat(e):t,[e,t])}function h({children:e}){let t=(0,i.wQ)(),n=(0,i.zy)(),o=(0,a.A)(),[d,c]=(0,r.useReducer)(u,{forward:[],current:{action:t,location:n,matchedPath:o},previous:[]}),p=(0,r.useRef)(n),h=(0,r.useRef)(o);return(p.current!==n||h.current!==o)&&(c({action:t,location:n,matchedPath:o}),p.current=n,h.current=o),(0,l.jsx)(s,{value:d,children:e})}},331694(e,t,n){n.d(t,{A:()=>l,M:()=>s});var r=n(61163),i=n(859471),o=n(963522),a=n(562615);function l({children:e,fullWidth:t,overrideDataTestId:n}){return(0,i.useEffect)(()=>{(0,r.A)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),(0,a.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":n||"pointer-events-wrapper",children:e})}function s({children:e,enabled:t}){return(0,i.useEffect)(()=>{(0,r.A)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),t?(0,a.jsx)(l,{children:e}):e}},854846(e,t,n){n.d(t,{J4:()=>a,Mw:()=>r,YH:()=>l,Yv:()=>s,nn:()=>i,sP:()=>o});let r={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},i={BILLING_HISTORY:"BILLING_HISTORY",BILLING_RECEIPT:"BILLING_RECEIPT",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_SPEND_SUMMARY:"PREPAID_SPEND_SUMMARY",PREPAID_SPEND_BREAKDOWN:"PREPAID_SPEND_BREAKDOWN",SUMMARY:"SUMMARY"},o={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},a={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},l={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},s={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},553255(e,t,n){n.d(t,{A:()=>o});var r=n(854846),i=n(81920);function o(e,t,n,o,a){let l=new URLSearchParams,s=t.reduce((e,t)=>{if(null!=t){let n=function(e){let t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(r){let n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t);return e.add(n)}return e},new Set);l.append(r.YH.SOURCE_EVENT_ID,e??"0"),l.append(r.YH.DESTINATION,JSON.stringify([...s])),l.append(r.YH.EXPIRY,n?"604800":"86400"),l.append(r.YH.PRIORITY,n?r.YH.CLICK_PRIORITY:r.YH.VIEW_PRIORITY),a&&l.append(r.YH.ADVERTISER_ID,a),o&&l.append(r.YH.CAMPAIGN_ID,o),l.append(r.YH.SOURCE_EVENT_TYPE,n?"click":"view");try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&l.append(r.YH.HOSTNAME,e)}catch(e){(0,i.GV)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+l.toString()}},718947(e,t,n){n.d(t,{H8:()=>a,Ss:()=>r,UP:()=>s,gm:()=>l,lT:()=>d,lh:()=>i,nr:()=>o});let r=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?r.CHROME:e.includes("Safari")?r.SAFARI:e.includes("Firefox")?r.FIREFOX:e.includes("Opera")?r.OPERA:e.includes("IE")?r.IE:e.includes("Edge")?r.EDGE:r.OTHER:r.OTHER;function o(e){return i(e)===r.SAFARI}function a(e){return i(e)===r.CHROME}function l(e){return i(e)===r.FIREFOX}function s(e){return i(e)===r.EDGE}function d(e){return i(e)===r.IE}},729617(e,t,n){n.d(t,{A:()=>s});var r=n(859471);function i(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function o(){return window.innerWidth}function a(){return window.innerHeight}function l(){return null}function s(){let e=(0,r.useSyncExternalStore)(i,a,l),t=(0,r.useSyncExternalStore)(i,o,l);return null!==e&&null!==t?{height:e,width:t}:null}},78020(e,t,n){n.d(t,{A:()=>r});function r(e){let t=Math.round(e/1e3),n=Math.floor(t/60),r=t%60;return n+":"+(r<10?"0":"")+r}},948641(e,t,n){n.d(t,{A:()=>a});var r=n(162036),i=n(538329),o=n(168620);let a=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,o.x)(),a=(0,i.A)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),n?.setText(t?.loginModalHeader||(0,r.Bw)(a))}}},210909(e,t,n){n.r(t),n.d(t,{default:()=>T});var r=n(61163),i=n(859471),o=n(963522),a=n(182267),l=n(586733),s=n(489630);function d(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c={},u=e=>{let t=e.__id||e.id;return"string"==typeof t&&t||null};class p{constructor(){d(this,"idMap",new Map),d(this,"objMap",new WeakMap)}get(e){let t=u(e);return this.objMap.get(e)??(t?this.idMap.get(t):void 0)}has(e){let t=u(e);return this.objMap.has(e)??(!!t&&this.idMap.has(t))}set(e,t){let n=u(e);n&&this.idMap.set(n,t),this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new WeakMap}}var h=n(909179);function _(e,t){return"number"==typeof e?e:"lg1"===t?e[t]??e.lg??1:e[t]??1}var m=n(411805),f=n(11978),g=n(127413),A=n(131094),b=n(562615);let{css:y,animation:E}=g.A,v={backgroundColor:"var(--sema-color-background-secondary)",animation:E,borderRadius:"var(--sema-rounding-400)"};function P({data:e}){(0,i.useEffect)(()=>{(0,r.A)("SkeletonPin","/app/common/react/components/SkeletonLoadingStates/SkeletonPin.tsx")},[]);let{height:t}=e;return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(A.A,{unsafeCSS:y}),(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:v},"data-test-id":"skeleton-pin",children:(0,b.jsx)(o.az,{height:t})})]})}var x=n(601185),I=n(844255),S=n(971289),w=n(81920),C=n(912849);function T(e){(0,i.useEffect)(()=>{(0,r.A)("Masonry","/app/packages/gestaltExtensions/Masonry/Masonry.tsx")},[]);let{align:t,cacheKey:n,id:d,isFetching:u,isGridCentered:g=!0,items:y,layout:E,loadItems:v,masonryRef:T,optOutFluidGridExperiment:R=!1,renderItem:O,scrollContainerRef:j,virtualize:k=!0,getColumnSpanConfig:N,_getResponsiveModuleConfigForSecondItem:z,isLoadingStateEnabled:B,initialLoadingStatePinCount:M,isLoadingAccessibilityLabel:D,isLoadedAccessibilityLabel:L}=e,F=(0,S.Ay)(),{isAuthenticated:U,isRTL:V,userAgent:H,stage:W}=(0,I._8)(),{browserName:G,platform:$}=H,{logContextEvent:Y}=(0,l.o)(),K=(0,x.A)(),J="desktop"===F,q=(0,C.AJ)(),Q=((0,i.useRef)(y.map(()=>({fetchTimestamp:Date.now(),measureTimestamp:Date.now(),hasRendered:!1,pageCount:0}))),J&&!R),{experimentalColumnWidth:X,experimentalGutter:Z}=(0,m.A)(Q),ee=e.serverRender??!!J,et="flexible"===E||"uniformRowFlexible"===E||"desktop"!==F||Q,en=(et&&E?.startsWith("uniformRow")?"uniformRowFlexible":void 0)??(ee?"serverRenderedFlexible":"flexible"),er=e.columnWidth??X??236;et&&(er=Math.floor(er));let ei=e.gutterWidth??Z??(J?16:1),eo=e.minCols??2,ea=((0,i.useRef)(0),er+ei),el=function(e){let t;if(null==e)return;let n=((t=c[e])&&t.screenWidth===window.innerWidth||(c[e]={screenWidth:window.innerWidth}),c[e]);return n.measurementCache||(n.measurementCache=new p),n.measurementCache}(n),es=(0,i.useCallback)(()=>j?.current||window,[j]),ed=(0,i.useRef)(!0),{anyEnabled:ec}=K.checkExperiment("visual_search_stl_eligibility_check_migration_gss_css",{dangerouslySkipActivation:!0}),{group:eu}=K.checkExperiment("web_nav_sidebar",{dangerouslySkipActivation:!0}),ep=eu.startsWith("enabled_autoclose_reduce_debounce")?Number(eu.split("enabled_autoclose_reduce_debounce_")[1]):void 0,eh=g&&ed.current?"centered":"",{className:e_,styles:em}=function(e){let t=`m_${(0,h.A)(e).sort().reduce((t,n)=>{let r=e[n];return null==r||"object"==typeof r||"function"==typeof r?t:"boolean"==typeof r?t+(r?"t":"f"):t+r},"").replace(/\:/g,"\\:")}`,{flexible:n,gutterWidth:r,isRTL:i,itemWidth:o,maxColumns:a,minColumns:l,items:s,getColumnSpanConfig:d,_getResponsiveModuleConfigForSecondItem:c}=e,u=d?s.map((e,t)=>({index:t,columnSpanConfig:d(e)??1})).filter(e=>1!==e.columnSpanConfig):[],p=o+r,m=Array.from({length:a+1-l},(e,t)=>t+l).map(e=>{let h,m,f=e===l?0:e*p,g=e===a?null:(e+1)*p-.01;d&&c&&s.length>1&&(h=d(s[0]),m=c(s[1]));let{styles:A,numberOfVisibleItems:b}=u.reduce((i,a)=>{let{columnSpanConfig:l}=a,d=Math.min(function({columnCount:e,columnSpanConfig:t,firstItemColumnSpanConfig:n,isFlexibleWidthItem:r,secondItemResponsiveModuleConfig:i}){let o=e<=2?"sm":e<=4?"md":e<=6?"lg1":e<=8?"lg":"xl",a=_(t,o);if(r){let t=_(n,o);a="number"==typeof i?i:i?Math.max(i.min,Math.min(i.max,e-t)):1}return a}({columnCount:e,columnSpanConfig:l,isFlexibleWidthItem:!!m&&a===s[1],firstItemColumnSpanConfig:h??1,secondItemResponsiveModuleConfig:m??1}),e),c=null!=a.index&&i.numberOfVisibleItems>=d+a.index,u=n?100/e*d:o*d+r*(d-1),{numberOfVisibleItems:p}=i;return c?p-=d-1:a.index<p&&(p+=1),{styles:i.styles.concat(function({className:e,index:t,columnSpanConfig:n,visible:r,width:i,flexible:o}){let a="number"==typeof n?n:btoa(JSON.stringify(n));return o?`
      .${e} .static[data-column-span="${a}"]:nth-child(${t+1}) {
        visibility: ${r?"visible":"hidden"} !important;
        position: ${r?"inherit":"absolute"} !important;
        width: ${i}% !important;
      }`:`
      .${e} .static[data-column-span="${a}"]:nth-child(${t+1}) {
        visibility: ${r?"visible":"hidden"} !important;
        position: ${r?"inherit":"absolute"} !important;
        width: ${i}px !important;
      }`}({className:t,index:a.index,columnSpanConfig:l,visible:c,width:u,flexible:n})),numberOfVisibleItems:p}},{styles:"",numberOfVisibleItems:e}),y=n?`
      .${t} .static {
        box-sizing: border-box;
        width: calc(100% / ${e}) !important;
      }
    `:`
      .${t} {
        max-width: ${e*p}px;
      }

      .${t} .static {
        width: ${o}px !important;
      }
    `;return{minWidth:f,maxWidth:g,styles:`
      .${t} .static:nth-child(-n+${b}) {
        position: static !important;
        visibility: visible !important;
        float: ${i?"right":"left"};
        display: block;
      }

      .${t} .static {
        padding: 0 ${r/2}px;
      }

      ${y}

      ${A}
    `}}),f=m.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @container (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),g=m.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),A=`
    ${f.join("")}
    @supports not (container-type: inline-size) {
      ${g.join("")}
    }
  `;return{className:t,styles:`
    .masonryContainer:has(.${t}) {
      container-type: inline-size;
    }

    .masonryContainer > .centered {
      margin-left: auto;
      margin-right: auto;
    }

    .${t} .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${A}
  `}}({gutterWidth:ei,flexible:et,items:y,isRTL:V,itemWidth:er,maxColumns:e.maxColumns??Math.max(y.length,16),minColumns:eo,getColumnSpanConfig:N,_getResponsiveModuleConfigForSecondItem:z}),ef=`${eh} ${e_}`.trim(),{anyEnabled:eg,expName:eA,group:eb,isMeasureAllEnabled:ey}=(0,f.A)(),eE=((0,i.useRef)(void 0),(0,i.useRef)(y.length)),ev=(0,i.useRef)(0),eP=(0,i.useRef)(null);(0,i.useEffect)(()=>{eE.current=y.length,ev.current+=1},[y]),(0,i.useEffect)(()=>{ed.current&&(ed.current=!1)},[]),(0,i.useEffect)(()=>()=>{},[]);let ex=(0,i.useCallback)(e=>{let t=e.reduce((e,t)=>e+t),n=t/e.length,r={experimentalMasonryGroup:eb||"unknown",handlerId:q,isAuthenticated:U,multiColumnItemSpan:e.length,browserName:G,platform:$,stage:W||"unknown"};(0,w.GV)("webapp.masonry.multiColumnWhitespace.count",{sampleRate:1,tags:r}),(0,w.uI)("webapp.masonry.multiColumnWhitespace.average",n,{sampleRate:1,tags:{...r,minCols:eo}}),Y({event_type:15878,component:14468,aux_data:{total_whitespace_px:t}}),Y({event_type:16062,component:14468,aux_data:{average_whitespace_px:n}}),Y({event_type:16063,component:14468,aux_data:{max_whitespace_px:Math.max(...e)}}),e.forEach(e=>{e>=50&&((0,w.GV)("webapp.masonry.multiColumnWhitespace.over50",{sampleRate:1,tags:r}),Y({event_type:16261,component:14468})),e>=100&&((0,w.GV)("webapp.masonry.multiColumnWhitespace.over100",{sampleRate:1,tags:r}),Y({event_type:16262,component:14468}))})},[G,eb,q,U,Y,eo,$,W]),{_items:eI,_renderItem:eS}=function({initialLoadingStatePinCount:e=50,infiniteScrollPinCount:t=10,isFetching:n,items:r=[],renderItem:o,isLoadingStateEnabled:a}){let l=+(r.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&"closeup_module"===e.type).length>0),s=a&&n,d=(0,i.useMemo)(()=>Array.from({length:r.length>l?t:e}).reduce((e,t,n)=>[...e,{height:n%2==0?356:236,key:`skeleton-pin-${n}`,isSkeleton:!0}],[]),[r.length,l,t,e]);return{_items:(0,i.useMemo)(()=>s?[...r,...d]:r,[s,r,d]),_renderItem:(0,i.useMemo)(()=>a?e=>{let{itemIdx:t,data:n}=e;return t>=r.length&&n&&"object"==typeof n&&"key"in n&&"height"in n?(0,b.jsx)(P,{data:n},n.key):o(e)}:o,[a,o,r.length])}}({isLoadingStateEnabled:B,items:y,renderItem:(0,i.useCallback)(e=>(0,b.jsx)(s.A,{name:"MasonryItem",children:O(e)}),[O]),isFetching:u,initialLoadingStatePinCount:M}),ew=B&&u,eC=(0,i.useRef)(new Set);(0,i.useEffect)(()=>{let e={isAuthenticated:U,isDesktop:"desktop"===F,handlerId:q,experimentalMasonryGroup:eb||"unknown",visualSearchSTLexperiment:ec?"true":"false",browserName:G,platform:$,stage:W||"unknown"},t=setTimeout(()=>{requestAnimationFrame(()=>{let t=Array.from(eP.current?.querySelectorAll("[data-grid-item-idx]")??[]);if(0===t.length)return;let n=t.map(e=>{let t=e.getAttribute("data-grid-item-idx");return{rect:e.getBoundingClientRect(),itemIdx:t}}),r=0,i=0,o=0,a=0,l=0,s=0;for(let e=0;e<n.length;e+=1){let t=n[e]?.rect,d=n[e]?.itemIdx;for(let c=e+1;c<n.length;c+=1){let e=n[c]?.rect,u=n[c]?.itemIdx;if(t&&e&&d&&u){let n=[d,u].sort().join("|");if(!eC.current.has(n)&&t.right>=e.left&&t.left<=e.right&&t.bottom>=e.top&&t.top<=e.bottom&&t.height>0&&e.height>0){eC.current.add(n),r+=1;let d=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left))*Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top));d>8e4?s+=1:d>4e4?l+=1:d>1e4?a+=1:d>5e3?o+=1:d>2500&&(i+=1)}}}}r>0&&(0,w.U9)("webapp.masonry.pinOverlapHits",r,{tags:e,sampleRate:.02}),i>0&&(0,w.U9)("webapp.masonry.pinOverlap.AreaPx.over2500",i,{tags:e,sampleRate:.02}),o>0&&(0,w.U9)("webapp.masonry.pinOverlap.AreaPx.over5000",o,{tags:e,sampleRate:.02}),a>0&&(0,w.U9)("webapp.masonry.pinOverlap.AreaPx.over10000",a,{tags:e,sampleRate:.02}),l>0&&(0,w.U9)("webapp.masonry.pinOverlap.AreaPx.over40000",l,{tags:e,sampleRate:.02}),s>0&&(0,w.U9)("webapp.masonry.pinOverlap.AreaPx.over80000",s,{tags:e,sampleRate:.02});let d="none";d=n.length<=10?"0-10":n.length<=20?"11-20":">20";let c="none";c=r>0&&r<=5?"1-5":r>5&&r<=20?"6-20":r>20&&r<=100?"21-100":">100",(0,w.GV)("webapp.masonry.pinOverlap.onOverlapCalculation",{tags:{...e,hasAnyOverlap:r>0?"true":"false",hasOverlapAreaOver2500:i>0?"true":"false",hasOverlapAreaOver5000:o>0?"true":"false",hasOverlapAreaOver10000:a>0?"true":"false",hasOverlapAreaOver40000:l>0?"true":"false",hasOverlapAreaOver80000:s>0?"true":"false",itemsMeasured:d,overlapPairs:c},sampleRate:.02})})},1e3);return()=>{clearTimeout(t)}},[G,F,eb,U,q,$,W,ec]);let eT=(0,a.A)(),eR=(0,i.useCallback)(e=>{T&&(T.current=e)},[T]);return(0,b.jsxs)(i.Fragment,{children:[B&&!ed.current&&(0,b.jsx)(o.az,{"aria-live":"polite",display:"visuallyHidden",children:ew?D:L}),(0,b.jsx)("div",{ref:eP,"aria-busy":B?!!ew:void 0,className:"masonryContainer","data-test-id":"masonry-container",id:d,style:Q?{padding:`0 ${ei/2}px`}:void 0,children:(0,b.jsxs)("div",{className:ef,children:[ee&&ed.current?(0,b.jsx)(A.A,{"data-test-id":"masonry-ssr-styles",unsafeCSS:em}):null,(0,b.jsx)(o.az,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:e.maxColumns?ea*e.maxColumns:void 0,children:eg?(0,b.jsx)(o._6,{ref:eT?eR:e=>{T&&(T.current=e)},_dynamicHeights:!0,_getResponsiveModuleConfigForSecondItem:z,_logTwoColWhitespace:ex,_measureAll:ey,align:t,columnWidth:er,getColumnSpanConfig:N,gutterWidth:ei,items:eI,layout:et?en:E??"basic",loadItems:v,measurementStore:el,minCols:eo,renderItem:eS,scrollContainer:es,virtualBufferFactor:.3,virtualize:k}):(0,b.jsx)(o.a,{ref:eT?eR:e=>{T&&(T.current=e)},_dynamicHeights:!0,_experimentalFluidResizeDebounce:void 0!==ep&&ep>=0?ep:void 0,_fluidResize:!0,_getResponsiveModuleConfigForSecondItem:z,_logTwoColWhitespace:ex,align:t,columnWidth:er,getColumnSpanConfig:N,gutterWidth:ei,items:eI,layout:et?en:E??"basic",loadItems:v,measurementStore:el,minCols:eo,renderItem:eS,scrollContainer:es,virtualBufferFactor:.3,virtualize:k})})]})})]})}},411805(e,t,n){n.d(t,{A:()=>r});function r(e=!0){let t=e?16:void 0,n=t?Math.floor(t/4):void 0;return{experimentalColumnWidth:e?221:void 0,experimentalGutter:t,experimentalGutterBoints:n}}},715989(e,t,n){n.d(t,{A:()=>i});var r=n(844255);let i=()=>{let e="default",{locale:t}=(0,r._8)();return(({"ar-SA":"tall","bn-IN":"tall","hi-IN":"tall","te-IN":"tall","ko-KR":"ck","zh-CN":"ck","zh-TW":"ck",ja:"ja","th-TH":"th","vi-VN":"vi"})[t]??e)===e?"compact":"none"}},766675(e,t,n){n.d(t,{A:()=>a});var r=n(859471);function i(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends r.Component{constructor(...e){super(...e),i(this,"ref",(0,r.createRef)()),i(this,"observer",null),i(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let a=o},620392(e,t,n){n.d(t,{A:()=>a});var r=n(148867),i=n(251407),o=n(365910);function a(e,t){let n=Math.round(1e3*Math.random())+"",a=Math.round(1e3*Math.random())+"";i.hZ((0,r.lH)(n),a);let l={token:`${n}-${a}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,o.A)(l)}`}},351910(e,t,n){n.d(t,{A:()=>a});var r=n(298146),i=n(788332),o=n(120649);let a=async({clientTrackingParams:e,href:t,pinId:n,spamCheckCallback:a})=>{let l=await function({url:e,urlParams:t,method:n,data:a,ignoreBookmark:l,callOptions:s,headers:d}){let c=e;return t&&Object.entries(t).forEach(([e,t])=>{let n=`{${e}}`;c.includes(n)&&(c=c.replaceAll(n,encodeURIComponent(String(t))))}),function(e){let t=(0,i.A)(e),n=o.$K.get("ApiResource",t);if(n)return n;let a=(0,r.A)(e);return o.$K.add("ApiResource",t,a),a}({url:c,method:n,data:a,ignoreBookmark:l,callOptions:s,headers:d})}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e??void 0,pin_id:n,url:t}});if(!l.resource_response.error){let{message:e,redirect_status:t,url:n}=l.resource_response.data||{};a({blocked:["blocked","suspicious","porn"].includes(t??""),message:e??"",redirectStatus:t??"",sanitized_url:n??""})}}},272111(e,t,n){n.d(t,{A:()=>r});function r({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}},227407(e,t,n){n.d(t,{A:()=>s});var r=n(871292),i=n(583471),o=n(584469),a=n(563013),l=n(602719);let s=({event:e,onHistoryChange:t,href:n,location:s,navigate:d,target:c})=>{let u=(0,i.A)(n),p=("string"!=typeof n&&n?n.state:null)??{},h=(0,o.A)(u);h===l.A.TRUSTED_DIFFERENT_ORIGIN||"blank"===c?(0,r.A)(u,"blank"===c):d&&h===l.A.SAME_ORIGIN&&(d((0,a.A)({url:u}),{state:{from:s,...p}}),t&&t({event:e}))}},487541(e,t,n){n.d(t,{A:()=>o});var r=n(871292),i=n(620392);function o(e,t){(0,r.A)((0,i.A)(e,t),!0,t?.features)}},623177(e,t,n){n.d(t,{A:()=>i});var r=n(524134);function i({location:e,pinId:t,surface:n}){return!!n&&!r.Wv.includes(n)||e.pathname.includes(t)}},376602(e,t,n){n.d(t,{A:()=>_});var r=n(859471),i=n(979638),o=n(351910),a=n(272111),l=n(227407),s=n(623177),d=n(332193),c=n(583471),u=n(386379),p=n(635154),h=n(81920);function _(e){let{clientTrackingParams:t,externalData:n,href:_,onHistoryChange:m,target:f}=e,[g,A]=(0,r.useState)(null),b=(0,i.Zp)(),y=(0,i.zy)(),E=(0,c.A)(_),v=(0,u.A)({url:E}),{showWarning:P}=(0,p.F)()??{},{pin:x,surface:I}=n||{},S=t||x?.trackingParams,w=(0,d.A)();return(0,r.useEffect)(()=>{v&&x&&null===g&&(!x.promoter||x.isDownstreamPromotion)&&(0,s.A)({location:y,pinId:x.entityId,surface:I})&&(0,o.A)({clientTrackingParams:S,pinId:x.entityId,spamCheckCallback:e=>A(e),href:E})},[S,x,I,E,v,y,g]),({event:e})=>{if(!(0,a.A)({isOffsiteUrl:v,event:e})){if("string"==typeof _&&_.startsWith("pinterest://")){let t=_.replace(/^pinterest:\/\//,"/");(0,l.A)({event:e,href:t,location:y,navigate:b,onHistoryChange:m,target:"blank"===f?"blank":null});return}if(e.preventDefault(),!_||"string"==typeof _&&_.startsWith("#"))return void(0,h.GV)("link_navigation_empty_href",{sampleRate:1,tags:{route:y.pathname,href:_}});v||n?.dangerouslyForceOffsiteUrl?w({auxData:n?.auxData,clientTrackingParams:S,pin:n?.pin&&{attributionSourceId:n.pin.attributionSourceId,campaignId:n.pin.campaignId,isPromoted:n.pin.isPromoted,pinPromotionId:n.pin.pinPromotionId,isThirdPartyAd:n.pin.isThirdPartyAd,advertiserId:n.pin.advertiserId,destinationUrl:n.pin.destinationUrl,link:n.pin.link,domain:n.pin.domain},pinId:n?.pin?.entityId,queryParams:n?.queryParams,showWarning:P,spamCheck:g,url:E}):(0,l.A)({event:e,href:_,location:y,navigate:b,onHistoryChange:m,target:"blank"===f?"blank":null})}}}},332193(e,t,n){n.d(t,{A:()=>p});var r=n(432321),i=n(854846),o=n(553255),a=n(718947),l=n(871292),s=n(586733),d=n(620392),c=n(487541),u=n(637747);let p=e=>{let t=(()=>{let{logContextEvent:e}=(0,s.o)();return({attributionSourceId:t,auxData:n,campaignId:l,clientTrackingParams:s,href:c,isPromoted:u,pinId:p,pinPromotionId:h,isThirdPartyAd:_,advertiserId:m,destinationUrl:f,link:g,domain:A})=>{var b,y;if(!u)return!1;let E=(0,r.A)(),v={params:{pinId:p,csrId:null,clientTrackingParams:s,auxData:n,isThirdPartyAd:_}},P=(0,d.A)(c,v);E?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&u&&c===f&&(fetch((0,d.A)(f,v),{redirect:"manual"}),P=f);let x=E?.userAgent.browserName??"",I=E?.experimentsClient.checkExperiment("aid_exp_ara_shutdown_source_registration").anyEnabled;if((0,a.nr)(x)){let n=E?.userAgent.browserVersion?E.userAgent.browserVersion:"0.0",r=parseFloat(n.split(".")[0]+"."+n.split(".")[1]);if(t&&r>=14.1){let n;return b=P,(n=document.createElement("a")).setAttribute("href",b),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(i.Yv.ATTRIBUTION_SOURCE_ID,t),n.setAttribute(i.Yv.ATTRIBUTE_DESTINATION,c),n.setAttribute(i.Yv.ATTRIBUTE_ON,c),n.click(),e({event_type:101,clientTrackingParams:s,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:l||"",is_pcm:!0,attribution_source_id:t,page_url:c}}),!0}}else if((0,a.H8)(x)&&!I&&window.document.featurePolicy?.allowsFeature("attribution-reporting")){let n,r;return y=P,n=(0,o.A)(t,[f,g,A],!0,l,m),(r=document.createElement("a")).setAttribute("href",y),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block",r.setAttribute(i.YH.SOURCE,n),r.click(),e({event_type:101,clientTrackingParams:s,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:l||"",is_arapi:!0,attribution_source_id:t,page_url:c}}),!0}return!1}})();return({auxData:n,clientTrackingParams:i,pin:o,pinId:a,queryParams:s,showWarning:p,spamCheck:h,url:_})=>{if("u">typeof window&&window.Windows)return void(0,u.A)(_,{clientTrackingParams:i,pinId:a,hasPin:!!o,auxData:n,isThirdPartyAd:o?.isThirdPartyAd});if(!o&&!e?.isFromClickthroughLink)return void(0,c.A)(_,s?{queryParams:s}:{params:{pinId:a}});if(h?.blocked)return void p?.(h);if(o&&t({attributionSourceId:o.attributionSourceId,auxData:n,campaignId:o.campaignId?String(o.campaignId):null,clientTrackingParams:i,href:_,isPromoted:o.isPromoted,pinId:a,pinPromotionId:o.pinPromotionId?String(o.pinPromotionId):null,isThirdPartyAd:o.isThirdPartyAd,advertiserId:o.advertiserId?o.advertiserId:null,destinationUrl:o.destinationUrl,link:o.link,domain:o.domain}))return;let m={params:{clientTrackingParams:i,auxData:n,pinId:a,isThirdPartyAd:o?.isThirdPartyAd}},f=(0,r.A)();if(f?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&o?.isPromoted&&_===o?.destinationUrl){fetch((0,d.A)(_,m),{redirect:"manual"}),(0,l.A)(_,!0);return}(0,c.A)(_,m)}}},520483(e,t,n){n.d(t,{A:()=>i});var r=n(601185);function i({isQuickPromotableByPinner:e,hasBeenBoostPromoted:t}={}){let{checkExperiment:n}=(0,r.A)(),o=!0===e?n("aid_exp_boost_a_pin").anyEnabled:n("aid_exp_boost_a_pin",{dangerouslySkipActivation:!0}).anyEnabled,a=n("ios_ads_pb",{dangerouslySkipActivation:!0}).anyEnabled,l=n("android_ads_pb",{dangerouslySkipActivation:!0}).anyEnabled,s=o||a||l;return{isBoostV2Enabled:s,isEligibleForBoost:s&&!0===e,hasBeenBoostPromoted:t??!1}}},538678(e,t,n){n.d(t,{A:()=>x});var r=n(61163),i=n(859471),o=n(601185),a=n(150194),l=n(17775),s=n(366199),d=n(772807),c=n(910128),u=n(186707),p=n(662594),h=n(441496),_=n(205392),m=n(449344),f=n(952402);let g=(0,l.lo)("GridProfiler_v2");function A(e,t){switch(t.type){case"START":return{status:"LAYOUT",failedCount:0,numOfItemsChecked:0};case"LAYOUT_PROGRESS":if("LAYOUT"!==e.status)return e;return{...e,failedCount:e.failedCount+1,numOfItemsChecked:t.numOfItemsChecked};case"LAYOUT_COMPLETE":return{status:"TIMING",failedCount:0,pinElements:t.pinElements};case"TIMING_PROGRESS":if("TIMING"!==e.status)return e;return{...e,failedCount:e.failedCount+1};case"COMPLETE":case"ABORT":return{status:"DISABLED"};default:return e}}function b(e){if(!e.poster)return!0;let t=new Image;return t.src=e.poster,t.complete}var y=n(2354),E=n(562615);function v(e){return(0,a.A)(e),null}function P(e){return!function({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:r=!1,includeSections:o,isPlaceholderGrid:a,onVisuallyCompletePinCount:y,stopwatchSetVisuallyCompleteResult:E,stopwatchContext:v}){let P=(0,m.lj)(),[x,I]=(0,i.useReducer)(A,{status:"DISABLED"}),S=(0,i.useRef)(new Map),w=(0,i.useRef)(new Map),C=(0,i.useRef)(new Set),T=(0,i.useRef)(new Set),R=(0,i.useRef)(null),O=!!window.PerformanceObserver?.supportedEntryTypes?.includes("element"),j=({imageTimings:e})=>{E?.({result:"COMPLETE"}),(0,p.Cf)(e)};(0,i.useEffect)(()=>{S.current.clear(),w.current.clear(),C.current.clear(),T.current.clear(),I({type:"START"})},[P]);let k="TIMING"===x.status?x.pinElements:null;(0,i.useEffect)(()=>{if(g("new status",x.status),"LAYOUT"===x.status){var e,t;let n,r=(e="scroll",t=()=>{(0,u.A)("scrollDuringLayout")},n=()=>{window.removeEventListener(e,n),t()},window.addEventListener(e,n),()=>window.removeEventListener(e,n));return()=>{r()}}return"TIMING"===x.status&&k?(C.current=new Set(k.map(e=>e.fileName)),T.current=new Set(k.map(e=>e.element)),O?R.current=(0,d.A)({type:"element",buffered:!0},e=>{e.getEntries().forEach(e=>{e.element&&T.current.has(e.element)&&e.renderTime&&w.current.set(e.element,e)})}):R.current=(0,d.A)({type:"resource",buffered:!0},e=>{e.getEntries().forEach(e=>{var t;let n,r,i,o=(i=(r=(n=(t=e.name).lastIndexOf("/"))>=0?t.slice(n+1):t).indexOf("?"))>=0?r.slice(0,i):r;C.current.has(o)&&e.responseEnd&&S.current.set(o,e)})}),()=>{R.current?.disconnect(),R.current=null}):()=>{}},[x.status,k,O]),(0,f.A)(()=>{var i;let d,u,f;if(a)return void g("bypassing PWT run due to skeleton pin grid");let A=(d=(0,m.R$)(),u=()=>{},"unknown"!==d?u=_.tL:v?(d=`${v?.name}`,v?.addBinaryAnnotation&&(u=v?.addBinaryAnnotation)):(d="unknown",u=(e,t,n)=>{}),{surface:d,addBinaryAnnotation:u,abortTiming:e=>{(0,c.A)(e),v?.abort(),E?.({result:"ABORT"})}});"LAYOUT"===x.status?I((i=(0,s.IX)(n,r,o),(f=function(e,t){if(!t){let t=(0,s.j5)();if(t===e)return g("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,s.ak)())return g("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}}(x.numOfItemsChecked,e)).complete?{type:"LAYOUT_COMPLETE",pinElements:i}:500*x.failedCount>6e4?((0,h.pI)({eventName:`images.${A.surface}.visuallyComplete.maxLayoutAttempt_v2`}),A.abortTiming("visuallyComplete_layoutTimeout"),{type:"ABORT"}):{type:"LAYOUT_PROGRESS",numOfItemsChecked:f.numOfItemsChecked})):"TIMING"===x.status&&I(function(e,t,n,r,i,o,a,s){let d=function(e,t,n,r){let i,o,a,s,d;if(r){let t,r,i,o,a;return t=[],r=0,i=0,o=0,a=0,e.forEach(({element:e})=>{let s=n.get(e);s?.renderTime?(o+=1,a=Math.max(a,s.renderTime),(0,l.Gp)(e,"green"),t.push({name:s.url,responseEnd:s.renderTime})):e instanceof HTMLImageElement&&e.complete||e instanceof HTMLVideoElement&&b(e)?(i+=1,(0,l.Gp)(e,"red")):(r+=1,(0,l.Gp)(e,"greenyellow"))}),{imageTimings:t,incompleteCount:r,noTimingCount:i,noTimingResponseEndCount:0,latestResponseEnd:0,elementTimingCount:o,latestRenderTime:a}}return i=[],o=0,a=0,s=0,d=0,e.forEach(({element:e,fileName:n})=>{let r=t.get(n);r?r.responseEnd?(i.push(r),(0,l.Gp)(e,"green"),d=Math.max(d,r.responseEnd)):(s+=1,(0,l.Gp)(e,"blue")):e instanceof HTMLImageElement&&e.complete||e instanceof HTMLVideoElement&&b(e)?(a+=1,(0,l.Gp)(e,"red")):(o+=1,(0,l.Gp)(e,"greenyellow"))}),{imageTimings:i,incompleteCount:o,noTimingCount:a,noTimingResponseEndCount:s,latestResponseEnd:d,elementTimingCount:0,latestRenderTime:0}}(e.pinElements,t,n,s),{incompleteCount:c,noTimingResponseEndCount:u,noTimingCount:_}=d,m=e.pinElements.length;return c||u?100*e.failedCount>6e4?((0,h.pI)({eventName:`images.${i.surface}.visuallyComplete.maxAttempt_v2`,tags:{totalImageCount:m,incompleteCount:c,noTimingCount:_,noTimingResponseEndCount:u}}),i.abortTiming("visuallyComplete_timingTimeout"),{type:"ABORT"}):{type:"TIMING_PROGRESS"}:(!function(e,t,n,r,i,o,a){let{imageTimings:l,noTimingCount:s,latestResponseEnd:d,latestRenderTime:c}=e,u=t.length;if(g(a?`All ${e.elementTimingCount} images are rendered`:`All ${l.length} images are fetched`),o?.(u),n&&n.length){let e,i,o,a,l,s,d=(e=0,i=0,o=0,a=0,l=0,s=n.filter(e=>"pin"===e.type),t.forEach((t,n)=>{let r,d=t.fileName.split(".")[0];r=s[n],d!==r?.image_signature&&(r=s.find(e=>d===e?.image_signature)),void 0===r?l+=1:r.is_promoted||r.recommendation_reason?.reason==="PROMOTED_PIN"||r?.promoter?o+=1:null!==r.story_pin_data_id&&void 0!==r.story_pin_data_id?e+=1:r?.videos?.video_list?i+=1:a+=1}),{storyPinCount:e,videoCount:i,adCount:o,imageCount:a,unknownCount:l});Object.entries(d).forEach(([e,t])=>{r.addBinaryAnnotation(e,t,"I16"),(0,p.kN)(e,t,"I16")}),(0,h.pI)({eventName:`${r.surface}.pinTypes_v2`,tags:d})}i({imageTimings:l}),a?((0,h.pI)({eventName:`images.${r.surface}.visuallyCompleteRender.complete_v2`,tags:{totalImageCount:u,noTimingCount:s,elementTimingCount:e.elementTimingCount}}),(0,h.AJ)({eventName:`images.${r.surface}.visuallyCompleteRender.timing_v2`,value:Math.round(c)})):((0,h.pI)({eventName:`images.${r.surface}.visuallyComplete.complete_v2`,tags:{totalImageCount:u,noTimingCount:s}}),(0,h.AJ)({eventName:`images.${r.surface}.visuallyComplete.timing_v2`,value:Math.round(d)}))}(d,e.pinElements,r,i,o,a,s),{type:"COMPLETE"})}(x,S.current,w.current,t,A,j,y,O))},"LAYOUT"===x.status&&500||"TIMING"===x.status&&100||null)}(e),null}function x({children:e,isAtEndOfFeed:t,pinData:n,itemCount:a,includeBackgroundImages:l=!1,includeVideos:s=!1,includeSections:d=!1,isPlaceholderGrid:c,onVisuallyCompletePinCount:p,stopwatchSetVisuallyCompleteResult:h,stopwatchContext:_}){let f,g;(0,i.useEffect)(()=>{(0,r.A)("MasonryVisuallyCompleteProfiler","/app/packages/pwt-logger/grid/MasonryVisuallyCompleteProfiler.tsx")},[]);let{isAuthenticated:A}=(0,y.tQ)();A||(d=!0);let b=(0,o.A)().checkExperiment("web_pwt_grid_profiler_v2").anyEnabled,x={pinData:n,isAtEndOfFeed:t,includeBackgroundImages:l,includeVideos:s,includeSections:d,isPlaceholderGrid:c,onVisuallyCompletePinCount:p,stopwatchSetVisuallyCompleteResult:h,stopwatchContext:_};return f=(0,i.useRef)(null),g=(0,m.lj)(),(0,i.useEffect)(()=>{a!==f.current&&(f.current=a,g&&(0,u.A)("masonryPagination"))},[g,a]),(0,E.jsxs)(i.Fragment,{children:[b?(0,E.jsx)(P,{...x}):(0,E.jsx)(v,{...x}),e]})}},707390(e,t,n){n.d(t,{A:()=>r});let r=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},164221(e,t,n){n.d(t,{A:()=>s,p:()=>l});var r=n(61163),i=n(859471),o=n(963522),a=n(562615);let l=({fill:e})=>{(0,i.useEffect)(()=>{(0,r.A)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]);let t="half"===e?(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(o.az,{position:"absolute",children:(0,a.jsx)(o.In,{accessibilityLabel:"","aria-hidden":!0,color:"default",icon:"star-half-fill",size:15})}),(0,a.jsx)(o.In,{accessibilityLabel:"",color:"subtle",icon:"star-fill",size:15})]}):(0,a.jsx)(o.In,{accessibilityLabel:"","aria-hidden":!0,color:"full"===e?"default":"subtle",icon:"star-fill",size:15});return(0,a.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function s({max_rating:e,rating:t,display:n}){var s;if((0,i.useEffect)(()=>{(0,r.A)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]),!t)return null;let d=[],c=parseFloat(e||"5"),u=5*(s=(s=parseFloat(t)||0)<=c?s:c)/c;if(Number.isNaN(u))return null;let p=Math.floor(u),h=u-p;return[...Array(p).keys()].forEach(e=>d.push((0,a.jsx)(l,{fill:"full"},e))),h>=.75?d.push((0,a.jsx)(l,{fill:"full"},d.length)):h>=.25&&d.push((0,a.jsx)(l,{fill:"half"},d.length)),[...Array(5-d.length).keys()].forEach(()=>d.push((0,a.jsx)(l,{fill:"empty"},d.length))),(0,a.jsx)(o.az,{"aria-label":`Rating ${String(u)} stars out of 5`,"data-test-id":"rating-stars",display:n?"flex":"inlineBlock",position:"relative",role:"img",width:18*c,children:d})}},57926(e,t,n){n.d(t,{A:()=>r});function r(e,t=80,n="",i=!1){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)o=e.substring(0,t);else{let n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return(o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}},319571(e,t,n){n.d(t,{A:()=>A});var r=n(61163),i=n(859471),o=n(963522),a=n(662449),l=n(766675),s=n(844255),d=n(274638),c=n(284300),u=n(697294),p=n(809799),h=n(699613),_=n(562615);function m(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(e){super(e),m(this,"componentWillUnmount",()=>{this.unregisterComponent()}),m(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:n,objectId:r,timeSpentContext:i,view:o,viewParameter:a}=this.props;return{view:o||i?.view,viewParameter:a||i?.viewParameter,component:t||i?.component,element:n,objectId:r||i?.objectId,clientTrackingParams:e||i?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),m(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),m(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e?.getParentUuid?.()}),m(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),m(this,"getTimedPair",()=>this.state.timedPair),m(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),m(this,"isRegistered",!1),m(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),m(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),m(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:n,left:r,right:i,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===r&&0===i&&0===o?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new u.A(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,d.A)(e.auxData,this.props.auxData)&&(0,d.A)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,_.jsx)(p.I,{value:this.getContext(),children:(0,_.jsx)(l.A,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:n=>(0,_.jsx)(o.az,{ref:n,height:t??"100%",children:i.Children.only(e)})})})}componentDidMount(){(0,r.A)("DeprecatedTimeSpent","/app/packages/time-spent/DeprecatedTimeSpent.tsx")}}function g(e){let t=(0,a.qD)(),n=(0,p.J)(),r=(0,c.A)(),o=(0,h.Vk)(),{requestIdentifier:l=""}=(0,s._8)(),d={app_instance_id:l.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{r?.setHistoryStackContext(t)},[t,r]),(0,i.useEffect)(()=>{r?.setPins(o??{})},[o,r]),r?(0,_.jsx)(f,{...e,auxData:d,timeSpentContext:n,timeSpentManager:r,children:e.children}):e.children}g.displayName="DeprecatedTimeSpent";let A=g},809799(e,t,n){n.d(t,{I:()=>r,J:()=>i});let{Provider:r,getMaybe:i}=(0,n(987628).A)("timeSpentContext")},697294(e,t,n){n.d(t,{A:()=>l,w:()=>a});var r=n(679902),i=n(763041);function o(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a="u">typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),l=class{constructor(e){o(this,"start",()=>(this.startTime=a(),this.startTime)),o(this,"end",()=>(this.endTime=a(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,r.A)()}catch(e){this.uuid=(0,i.A)()}e&&Object.assign(this,e)}}},284300(e,t,n){n.d(t,{A:()=>o,q:()=>r});let{Provider:r,getMaybe:i}=(0,n(987628).A)("TimeSpentManagerContext"),o=i},583471(e,t,n){n.d(t,{A:()=>r});let r=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},894986(e,t,n){n.d(t,{A:()=>i});var r=n(307079);let i=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,r.A)(t[1])}return(0,r.A)()}},563013(e,t,n){n.d(t,{A:()=>i});var r=n(336683);let i=({url:e})=>{let t=(0,r.A)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},917348(e,t,n){n.d(t,{A:()=>l});var r=n(859471);let i=()=>()=>{},o=()=>!1,a=()=>!0,l=()=>(0,r.useSyncExternalStore)(i,o,a)},696721(e,t,n){n.d(t,{G:()=>r,o:()=>i});let r=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),i=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},637747(e,t,n){n.d(t,{A:()=>o});var r=n(257300),i=n(487541);function o(e,t){let{auxData:n,clientTrackingParams:o,hasPin:a,pinId:l,isThirdPartyAd:s}=t||{},d={pin_id:l||void 0,check_only:!0,client_tracking_params:a&&o||void 0,url:e,aux_data:JSON.stringify(n)};s&&(d.third_party_ad=l||void 0,delete d.pin_id),(0,r.A)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:n,url:r}=e.data;if(!["blocked","suspicious","porn"].includes(n||"")){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(r||"");window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,i.A)(e,{params:a?{pinId:l,clientTrackingParams:o,auxData:n,isThirdPartyAd:s}:{pinId:l}})})}},17964(e,t,n){n.d(t,{K:()=>f,C:()=>g});var r=n(859471),i=n(987628),o=n(693154),a=n(430705),l=n(39165),s=n(401691),d=n(484409),c=n(307424);let u=e=>{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.A)(n)]=e[n]:t[(0,c.A)(n)]=u(e[n]));return t},p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var _=n(562615);let{Provider:m,getMaybe:f}=(0,i.A)("RoleBasedAccessControlContext"),g=({children:e})=>{let t=(0,o.A)(),n=!!(t.isAuth&&t.isPartner),{state:i,actions:c,receiveProfiles:f}=(e=>{let[t,n]=(0,r.useReducer)(h,p),i=(({dispatch:e,isEnabled:t,state:n})=>{let{orbacVisibility:i,disableProfileChanger:o,headerVisible:a}=n,l=(0,r.useCallback)(n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})},[t,e]);return{changeProfile:l,toggleORBACVisibility:(0,r.useCallback)(n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:n??!i})},[t,e,i]),toggleDisableProfileChanger:(0,r.useCallback)(n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:n??!o})},[t,e,o]),toggleHeaderVisibility:(0,r.useCallback)(n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:n??!a})},[t,e,a])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:o,orbacVisibility:a}=t;return(0,r.useEffect)(()=>{let e=(0,d.V2)().getItem(s.b6)||!1;e&&n({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,r.useEffect)(()=>{let e=(0,d.V2)().getItem(s.t5)||!1;e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,r.useEffect)(()=>{(0,d.V2)().setItem(s.t5,a)},[a]),(0,r.useEffect)(()=>{(0,d.V2)().setItem(s.b6,o)},[o]),{state:t,actions:i,receiveProfiles:(0,r.useCallback)((e,t)=>{n({type:"LOAD_PROFILES",payload:((e,t)=>{let n=[];for(let r in e)r!==t&&n.push({id:r,...u(e[r])});let r=n.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),i=new Map;for(let e of r)i.set(e.id,e);return i})(e,t)})},[n])}})(n),{activeProfile:g,headerVisible:A,profiles:b}=i,y=(0,r.useMemo)(()=>b?Array.from(b.values()):[],[b]),E=(0,l.A)(y),v=!!t.isAuth&&y.length>0&&E,P=t.isAuth?t.id:"",x=t.isAuth?t.username:"",{changeProfile:I,toggleORBACVisibility:S,toggleDisableProfileChanger:w,toggleHeaderVisibility:C}=c;(0,r.useEffect)(()=>{!n||("string"==typeof E?I(E):g||I(P))},[E,P,n,I,g]),(0,r.useEffect)(()=>{n&&(v&&!A&&C(!0),!v&&A&&C(!1))},[C,v,n,A,b]);let{data:T}=(0,a.A)(n?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),R=T?.profiles,O=(0,r.useMemo)(()=>t&&t.isAuth&&g===t.id?{id:t.id,permissions:["OWNER"],user:{username:x,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:g&&b?b.get(g):void 0,[g,b,t,x]);(0,r.useEffect)(()=>{R&&f(R,P)},[f,R,P]);let j=(0,r.useMemo)(()=>({profiles:y,headerVisible:A,activeProfile:O,changeProfile:I,toggleORBACVisibility:S,toggleDisableProfileChanger:w,toggleHeaderVisibility:C}),[y,A,O,I,S,w,C]);return(0,_.jsx)(m,{value:j,children:e})}},870540(e,t,n){n.d(t,{A:()=>s});var r=n(859471),i=n(601185),o=n(17964),a=n(39165);let l=Object.freeze({}),s=()=>{let{checkExperiment:e}=(0,i.A)(),t=(0,o.K)(),{activeProfile:n}=t||{},s=(0,a.A)(t?.profiles||[]),{anyEnabled:d}=e("useorbacroutematcher_in_useorbacactingas");return(0,r.useMemo)(()=>d&&!s?l:n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:l,[d,s,n])}},39165(e,t,n){n.d(t,{A:()=>l});var r=n(979638),i=n(693154),o=n(115795),a=n(699613);let l=e=>{let t=(0,r.zy)(),n=(0,i.A)(),l=(0,a.HR)(),s=(0,r.RQ)("/:username"),d=(0,r.RQ)("/:username/*"),c=(s||d)?.params?.username,u=(0,r.RQ)("/pin/:id"),p=(0,r.RQ)("/pin/:id/*"),h=u||p,_=!!h?.params?.id&&l(h.params.id)?.pinner?.id;if((0,o.vo)(t))return!1;if((0,o.Ir)(t)||(0,o.VX)(t)||(0,o._C)(t))return!0;let m=[...e,...n.isAuth?[{user:{username:n.username},id:n.id}]:[]].find(e=>{if(!e)return!1;let{user:t,id:n}=e;return(!!t&&"username"in t&&!!t.username&&!!c||!!_&&!!n)&&(t.username===c||_===n)});return!!m&&m.id}},847753(e,t,n){n.d(t,{D9:()=>p,EL:()=>a,EQ:()=>s,H7:()=>l,Hs:()=>c,Nn:()=>u,Qp:()=>o,TO:()=>i,if:()=>h,uF:()=>r,wf:()=>d});let r=(e,t)=>{let n=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(n=t.user.businessName),n},i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=(e,t)=>{let n=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(n=t.user.imgUrl),n},a=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),l=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,n)=>n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:e.advertiser?.merchant_id,d=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),u=(e,t,n)=>!!(c(e,t,n)||e&&e.isAuth&&t===e.id),p=(e,t,n)=>u(e,t&&t.owner&&t.owner.id||"",n);function h(e,t,n){return u(e,t?t.id:"",n)}},808571(e,t,n){n.d(t,{b:()=>i,g:()=>o});var r=n(961403);function i({children:e}){let{height:t}=(0,r.A)();return e(t)}function o(){let{height:e}=(0,r.A)();return e}},726232(e,t,n){n.d(t,{N:()=>a,z:()=>l});var r=n(859471),i=n(562615);let o=(0,r.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),a=()=>(0,r.use)(o);function l({children:e}){let[t,n]=(0,r.useState)(Object.freeze({})),a=(0,r.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:r})=>n({...t,[e]:r})}),[t]);return(0,i.jsx)(o,{value:a,children:e})}},937176(e,t,n){n.d(t,{A:()=>f});var r,i,o=n(61163),a=n(859471);n(825193);var l=n(668014),s=n(104088),d=n(535273),c=n(985395),u=n(189851),p=n(699613),h=n(562615);let _=(void 0!==r||(r=n(130215)).hash&&"51989dcefa62862d9443ed3d243ffdbf"!==r.hash&&console.error("The definition of 'UnifiedPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),m=(void 0!==i||(i=n(829111)).hash&&"9c0000d5884ff2a1347c1278f1d95042"!==i.hash&&console.error("The definition of 'UnifiedPinRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function f({pinKey:e,parentPinKey:t,...n}){var r,i,f;(0,a.useEffect)(()=>{(0,o.A)("UnifiedPinRep","/app/www/PinRep/UnifiedPinRep.tsx")},[]);let g=(0,d.A)(_,e),A=(0,d.A)(m,t),b=g&&"GraphQL"===(0,s.z)(g),y=(0,p.HR)()(g?.entityId||""),E=(0,u.oW)();return g&&(0,h.jsx)(l.A,{name:"DefaultPinRep",type:"critical",children:(0,h.jsx)(a.Suspense,{children:(0,h.jsx)(c.A,{...n,boardKey:(r=!!b,i=g?.pinnedToBoard||g?.board||null,f=E(y?.pinned_to_board?.id||y?.board?.id||""),r?i??null:f?{type:"Legacy",data:f}:null),parentPinKey:A,pinKey:g})})})}},635154(e,t,n){n.d(t,{F:()=>i,K:()=>r});let{Provider:r,getMaybe:i}=(0,n(987628).A)("SpammyClickthrough")},56157(e,t,n){n.d(t,{A:()=>h,_:()=>p});var r=n(61163),i=n(859471),o=n(963522),a=n(103892),l=n(715989),s=n(538329),d=n(542975),c=n(601185),u=n(562615);let p=[0,2,3];function h({hasAffiliateProducts:e,hasAffiliateLink:t,href:n,isPromoted:h,onNavigateSponsorClick:_,sponsorName:m,sponsorUsername:f,sponsorshipStatus:g,textWeight:A="bold",isGrid:b,affiliateDisclosure:y}){let E;(0,i.useEffect)(()=>{(0,r.A)("SponsorshipText","/app/www/SponsorshipText/SponsorshipText.tsx")},[]);let v=(0,s.A)(),{checkExperiment:P}=(0,c.A)(),x=P("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,I=(0,l.A)(),{inAffiliateDisclosureEnabled:S}=(0,a.A)(),w=n||(f?`/${f}/`:null),C=w&&m?(0,u.jsx)(o.KJ,{__dangerouslyOverrideLineHeight:I,size:"200",weight:A,children:(0,u.jsx)(o.N_,{dataTestId:"sponsorship-text-link",href:w,onClick:_,children:m})},m):void 0,T=x&&!h&&"Ad  "||"";return h?E=(0,d.vQ)(v._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:C}):g||0===g?m&&!p.includes(g)?E=(0,d.vQ)(v._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:C}):2!==g&&(E=v._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):!b&&(t||e)&&(E=S?y:v._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'),T=""),(0,u.jsxs)(o.KJ,{__dangerouslyOverrideLineHeight:I,color:"subtle",inline:!0,lineClamp:2,size:"200",children:[T,E]})}},653956(e,t,n){n.d(t,{A:()=>P});var r,i,o=n(61163),a=n(859471);n(669897);var l=n(963522),s=n(535273),d=n(538329),c=n(921591),u=n(601185),p=n(844255),h=n(971289),_=n(459951),m=n(223733),f=n(562615);function g({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,privacy:r,size:i=20}){(0,a.useEffect)(()=>{(0,o.A)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let s=(0,d.A)();return(0,f.jsx)(l.az,{alignItems:"center",color:e,direction:"column",display:"flex",height:i,justifyContent:"center",rounding:"circle",width:i,children:(0,f.jsx)(l.In,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===r?"lock":"shield",size:n??i/2})})}var A=n(831707),b=n(261682);let y=(void 0!==r||(r=n(754423)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==r.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),E=(void 0!==i||(i=n(52919)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==i.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),v="100%";function P(e){(0,a.useEffect)(()=>{(0,o.A)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,d.A)(),{boardKey:n,canEdit:r,containerBackgroundColor:i="white",coverPhoto:P,coverPinKey:x,fullSize:I,hideSecretBoardIcon:S,images:w,isActive:C,isHomePageBoards:T,isProtected:R,isSecret:O,layout:j,onEditClick:k,renderAsImage:N,showSensitivityScreen:z}=e,B=(0,h.qJ)(),{isRTL:M,isAuthenticated:D}=(0,p._8)(),L=(0,s.A)(y,n),F=(0,s.A)(E,x),U=(0,a.useRef)(null),V=B&&D,{checkExperiment:H}=(0,u.A)(),[W,G]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(C&&V&&L&&!O&&!W){let e=H("ce_dweb_board_preview_share_button").anyEnabled,t=window.setTimeout(()=>{G(e)},0);return()=>clearTimeout(t)}return()=>{}},[C,V,L,O,W,H]);let $=(0,a.useRef)(void 0);(0,a.useEffect)(()=>{C?$.current&&(clearTimeout($.current),$.current=void 0):$.current||($.current=window.setTimeout(()=>{$.current=void 0,C||G(!1)},200))},[C]),(0,a.useEffect)(()=>()=>{$.current&&clearTimeout($.current)},[]);let Y=w[0],K=!P&&w[0]?.name||t._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),J=[,,].fill(0),q=new l.rk(1),Q=Y?.url?(0,f.jsx)(l._V,{alt:K,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:Y.url}):(0,f.jsx)(l.az,{color:"secondary",height:"100%",width:"100%"}),X=z?{filter:"blur(20px)"}:{};return(0,f.jsxs)(l.n1,{height:I?"100%":void 0,rounding:400,width:"100%",children:[(0,f.jsxs)(l.so,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,f.jsx)(l.VP,{span:8,children:(0,f.jsx)(l.az,{dangerouslySetInlineStyle:{__style:X},height:I?"100%":void 0,position:"relative",children:(0,f.jsx)(l.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:v}},overflow:"hidden",width:"100%",children:(0,f.jsxs)(l.az,{ref:U,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:T?"#FFDFE9":i,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(R||O)&&!S&&(0,f.jsx)(l.az,{left:!M,margin:2,position:"absolute",right:M,top:!0,zIndex:q,children:(0,f.jsx)(g,{backgroundColor:"default",iconColor:"default",privacy:O?"secret":"protected",size:V?32:24})}),P?.url?(0,f.jsx)(l.n1,{height:"100%",wash:!0,width:"100%",children:(0,f.jsx)(m.A,{customCover:P.isCustom,height:"square"===j?157:213,imgPos:F?function(e){let{crop:t,size:n}=e||{};if(Array.isArray(t)&&Array.isArray(n))return{x:t[0]||0,y:t[1]||0,width:n[0]||0,height:n[1]||0}}(F):P.position||{width:0,height:0,x:0,y:0},imgUrl:F?.imageUrl??(P.url||""),renderAsImage:N,width:Math.floor(("square"===j?236:320)/3*2)})}):Q]})})})}),(0,f.jsx)(l.VP,{span:4,children:(0,f.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:X},height:"100%",children:[(r||W)&&(0,f.jsxs)(l.az,{bottom:!0,display:W?"flex":void 0,left:M,margin:2,opacity:100*!!C,position:"absolute",right:!M,zIndex:q,children:[W&&(0,f.jsx)(l.Rp,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,f.jsx)(l.az,{marginEnd:1,children:(0,f.jsx)(b.A,{boardKey:L,handleCreatePincode:()=>{},iconColor:"default",size:"sm"})})}),r&&(0,f.jsx)(l.Rp,{onTap:({event:e})=>k?.(e),children:(0,f.jsx)(l.K0,{accessibilityLabel:t._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"default",icon:"pencil",iconColor:"default",size:"sm",tabIndex:-1})})]}),J.map((e,t)=>{let n=P?w[t]:w[t+1];return(0,f.jsx)(l.az,{height:I?"50%":void 0,position:"relative",children:(0,f.jsx)(l.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:v}},overflow:"hidden",width:"100%",children:(0,f.jsx)(l.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:T?"#FFDFE9":i,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:n?.url?(0,f.jsx)(l.n1,{height:"100%",wash:!0,width:"100%",children:(0,f.jsx)(l._V,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:n.url})}):(0,f.jsx)(l.az,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),z&&(0,f.jsx)(l.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,f.jsx)(l._Y,{align:"center",color:"light",size:"400",children:t._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,f.jsx)(_.A,{visibility:C?"visible":"none",children:(0,f.jsx)(A.A,{additionalStyles:{backgroundColor:c.E.LEGO_WASH}})})]})}},219162(e,t,n){n.d(t,{A:()=>s});var r=n(61163),i=n(859471),o=n(963522),a=n(538329),l=n(562615);function s(){(0,i.useEffect)(()=>{(0,r.A)("SecretBoardIcon","/app/www/board/SecretBoardIcon.tsx")},[]);let e=(0,a.A)();return(0,l.jsx)(o.In,{accessibilityLabel:e._('Secret board', 'Accessibility label for icon indicating a secret board', 'Accessibility label for icon indicating a secret board'),color:"default",icon:"lock",inline:!0})}},678358(e,t,n){n.d(t,{_G:()=>c,oh:()=>d});var r=n(61163),i=n(859471),o=n(162497),a=n(562615);let l={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:o.qr,maxWidth:o.QH,descriptionPaneWidth:o.QH-o.qr,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsCommentComposerFocused:()=>{},setIsCommentPopoverInteractionActive:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{},setViewportSize:()=>{}},s=(0,i.createContext)(l);function d({children:e,value:t}){(0,i.useEffect)(()=>{(0,r.A)("Context","/app/www/closeup/desktop/Context.tsx")},[]);let n=(0,i.useMemo)(()=>({...l,...t}),[t]);return(0,a.jsx)(s,{value:n,children:e})}function c(){let e=(0,i.use)(s);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},162497(e,t,n){n.d(t,{DG:()=>l,Em:()=>A,En:()=>y,Ii:()=>v,M1:()=>p,MI:()=>g,QH:()=>o,Ye:()=>c,Z:()=>h,bZ:()=>_,bo:()=>a,gr:()=>E,h3:()=>d,n0:()=>u,nb:()=>m,qr:()=>i,t4:()=>P,tb:()=>s,vg:()=>f,w$:()=>b});var r=n(963522);let i=508,o=1016,a=488,l=992,s=672,d=1176,c=40,u=72,p=740,h=32,_=16,m=24,f=2,g=1,A=new r.rk(5),b={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},y={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},E="calc(90vh - 80px)",v="calc(55vh + 80px)",P="calc(75vh - 80px)"},629494(e,t,n){n.d(t,{y:()=>r});let r=new(n(963522)).rk(700)},48180(e,t,n){n.d(t,{A:()=>r});function r(e,t){e&&e.includes("~0")&&(e=e.replace("~0",""));let n=t?.includes("~0")?t:`${t||""}~0`;return e&&e.replace("undefined","")?e:n.replace("undefined","")}},168620(e,t,n){n.d(t,{e:()=>r,x:()=>i});let{Provider:r,get:i}=(0,n(987628).A)("LimitedLogin")},593936(e,t,n){n.d(t,{d:()=>s,n:()=>d});var r=n(859471),i=n(987628),o=n(601185),a=n(562615);let{Provider:l,get:s}=(0,i.A)("HomeFeedTuner");function d({children:e}){let[t,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),{checkExperiment:u}=(0,o.A)(),p=(0,r.useMemo)(()=>{let{group:e}=u("mweb_ap_res_user_in_grid_feedback_fast_follow",{dangerouslySkipActivation:!0});return{isInExperiment:e.includes("enabled"),showFeedCopy:e.includes("feed"),showFancyButton:e.includes("fancy"),showSearchButtonOnActivityFeed:e.includes("search")}},[u]),h=(0,r.useCallback)(()=>{p.isInExperiment&&n(!0)},[p.isInExperiment]),_=(0,r.useCallback)(()=>{n(!1)},[]),m=(0,r.useCallback)(e=>{p.isInExperiment&&e?s(!0):s(!1)},[p.isInExperiment]),f=(0,r.useCallback)(()=>{c(!0)},[]),g=(0,r.useCallback)(()=>{c(!1)},[]),A=(0,r.useMemo)(()=>({shouldRefreshHomefeed:t,markForRefresh:h,clearRefreshFlag:_,cameFromRefineButton:i,markCameFromRefineButton:m,cameFromRefineRecommendationsLink:d,markCameFromRefineRecommendationsLink:f,clearCameFromRefineRecommendationsLink:g,showFeedCopy:p.showFeedCopy,showFancyButton:p.showFancyButton,showSearchButtonOnActivityFeed:p.showSearchButtonOnActivityFeed}),[t,i,d,h,_,m,f,g,p.showFeedCopy,p.showFancyButton,p.showSearchButtonOnActivityFeed]);return(0,a.jsx)(l,{value:A,children:e})}},543128(e,t,n){n.d(t,{A:()=>m});var r=n(61163),i=n(859471),o=n(963522),a=n(348681),l=n(538329),s=n(844255),d=n(219162),c=n(223733),u=n(562615);function p({cover:e,height:t,image:n,width:a}){return((0,i.useEffect)(()=>{(0,r.A)("BoardCollageCoverImage","/app/www/profile/ProfileBoardCard/BoardCollageCoverImage.tsx")},[]),e)?(0,u.jsx)(c.A,{customCover:e.isCustom,height:t,imgPos:e.position||{width:0,height:0,x:0,y:0},imgUrl:e.url??"",width:a}):n&&n.url?(0,u.jsx)(o.n1,{height:t,wash:!0,width:a,children:(0,u.jsx)(o._V,{alt:"Board collage cover image",color:"#EFEFEF",fit:"cover",naturalHeight:n.height??1,naturalWidth:n.width??1,src:n.url})}):(0,u.jsx)(o.az,{color:"secondary",height:t,width:a})}function h({image:e,width:t,height:n}){return(0,i.useEffect)(()=>{(0,r.A)("BoardCollageImage","/app/www/profile/ProfileBoardCard/BoardCollageImage.tsx")},[]),e&&e.url?(0,u.jsx)(o.n1,{height:n,wash:!0,width:t,children:(0,u.jsx)(o._V,{alt:"Board collage image",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url})}):(0,u.jsx)(o.az,{color:"secondary",height:n,width:t})}var _=n(65646);function m({boardThumbs:e=[],cover:t,editButton:n,isActive:c,isSecret:m,layout:f,sensitivityScreenAuxData:g,showSensitivityScreen:A=!1}){(0,i.useEffect)(()=>{(0,r.A)("BoardCollage","/app/www/profile/ProfileBoardCard/BoardCollage.tsx")},[]);let b=(0,l.A)();(0,a.r)(A?{component:13861,view_type:215,aux_data:g}:null);let{isRTL:y}=(0,s._8)(),{height:E,width:v}=(0,_.P)(f),P=Math.floor(E/2),x=Math.floor(v/3),I=t?void 0:e[0],S=e.slice(+!t);return(0,u.jsxs)(o.n1,{height:E,rounding:400,wash:c,width:v,children:[(0,u.jsx)(o.az,{"aria-label":"Board",color:"default",dangerouslySetInlineStyle:{__style:A?{filter:"blur(20px)"}:{}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:(0,u.jsxs)(o.az,{"aria-hidden":"true",dangerouslySetInlineStyle:{__style:{gap:"1px"}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:[(0,u.jsx)(p,{cover:t,height:E,image:I,width:Math.floor(v/3*2)}),(0,u.jsxs)(o.so,{alignItems:"stretch",direction:"column",flex:"none",height:"100%",justifyContent:"between",children:[(0,u.jsx)(h,{height:P,image:S[0],width:x}),(0,u.jsx)(h,{height:P,image:S[1],width:x})]})]})}),m&&(0,u.jsx)(o.az,{alignItems:"center",color:"default",display:"flex",height:32,justifyContent:"center",left:!y,marginStart:2,marginTop:2,position:"absolute",right:y,rounding:"circle",top:!0,width:32,children:(0,u.jsx)(d.A,{})}),c&&n&&(0,u.jsx)(o.az,{alignItems:"center",bottom:!0,color:"default",display:"flex",height:32,justifyContent:"center",left:y,marginBottom:2,marginEnd:2,position:"absolute",right:!y,rounding:"circle",width:32,children:n}),A&&(0,u.jsx)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,u.jsx)(o._Y,{align:"center",color:"light",size:"400",children:b._('This board may contain sensitive content', 'profileBoardCard.boardCollage.heading', 'Warning text on board that may have sensitive content')})})]})}},65646(e,t,n){n.d(t,{P:()=>i,Q:()=>o});let r={square:{width:236,height:157},wide:{width:320,height:213}};function i(e){return r["square"===e?"square":"wide"]}function o(e){return i(e).width+16}},514201(e,t,n){n.d(t,{A:()=>d});var r=n(61163),i=n(859471),o=n(963522),a=n(538329),l=n(543128),s=n(562615);function d({boardThumbs:e,isChangeBoardModal:t,isSecret:n,name:d,onNameChange:c,onVisibilityChange:u,submitError:p}){(0,i.useEffect)(()=>{(0,r.A)("CreateBoard","/app/www/profile/ProfileBoards/BoardlessPins/CreateBoard.tsx")},[]);let h=(0,a.A)();return(0,s.jsx)(o.az,{paddingX:8,children:(0,s.jsxs)(o.so,{direction:"column",gap:{row:0,column:4},children:[e&&!t&&(0,s.jsx)(l.A,{boardThumbs:e,editButton:null,isActive:!1,isSecret:!1,layout:"square"}),(0,s.jsxs)(o.so,{direction:"column",gap:{row:0,column:2},children:[(0,s.jsx)(o.KJ,{size:"100",children:h._('Name', 'boardlessPins.createBoard.boardNameText', 'Title of text field where user inputs name of board')}),(0,s.jsx)(o.A_,{id:"boardName",name:"boardName",onChange:c,placeholder:h._('Add a title, like \u201CDIY\u201D or \u201CRecipes\u201D', 'boardlessPins.createBoard.boardNameTextPlaceholder', 'Placeholder of text field where user inputs name of board'),size:"lg",value:d})]}),(0,s.jsxs)(o.so,{direction:"column",gap:{row:0,column:2},children:[(0,s.jsx)(o.KJ,{size:"100",children:h._('Visibility', 'boardlessPins.createBoard.visibilityTitle', 'Title of visibility checkbox')}),(0,s.jsxs)(o.so,{gap:{row:4,column:0},children:[(0,s.jsx)(o.Sc,{checked:n,id:"boardVisibility",name:"boardVisibility",onChange:u}),(0,s.jsxs)(o.so,{direction:"column",gap:{row:0,column:1},children:[(0,s.jsx)(o.KJ,{children:h._('Keep this board secret', 'boardlessPins.createBoard.visibilityCheckbox', 'Caption for board settings checkbox to set visibility')}),(0,s.jsx)(o.KJ,{color:"subtle",children:h._('So only you and collaborators can see it.', 'boardlessPins.createBoard.visibilityCheckboxInfo', 'Description of secret setting on board')})]})]})]}),p&&(0,s.jsx)(o.KJ,{color:"error",children:p})]})})}},936751(e,t,n){n.d(t,{A:()=>i});var r=n(74806);function i(e,t){return n=>n((0,r.Jt)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},671931(e,t,n){n.d(t,{A:()=>i});var r=n(74806);function i(e,t,n){return(0,r.Jt)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}},517750(e,t,n){n.d(t,{A:()=>m,B:()=>_});var r=n(427471),i=n(586733),o=n(671931),a=n(936751),l=n(513010),s=n(819515),d=n(504252),c=n(900303);let u=e=>t=>{c.A.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},p=e=>(0,l.eO)(e.sectionId?d.A.BOARD_SECTION_PINS:d.A.BOARDFEED,e.sectionId||e.boardId);function h(e,t){let{source:n,target:r}=e;r.boardId!==n.boardId?(t((0,o.A)(n.boardId,"pin_count")),t((0,o.A)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t((0,o.A)(r.boardId,"pin_count")),n.sectionId&&t((0,a.A)(n.sectionId)),r.sectionId&&t((0,a.A)(r.sectionId))}function _(e){return t=>{let{selectedPinIds:n,source:r,target:i}=e;t((0,l.J6)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?d.A.BOARD_SECTION_PINS:d.A.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,l.ZT)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?d.A.BOARD_SECTION_PINS:d.A.BOARDFEED,itemIds:n,itemType:"pin"})),n.forEach(e=>{t((0,s.PD)({pinId:e,boardId:i.boardId,sectionId:i.sectionId||void 0,title:i.name||""}))}),h(e,t)}}function m(e,t,n){return o=>{let{selectedPinIds:a,target:c}=e;return a.forEach(e=>{o((0,s.PD)({pinId:e,boardId:c.boardId,sectionId:c.sectionId||void 0,title:c.name||""}))}),(function(e,t,n,o){let{inverseSelection:a,selectedPinIds:s,source:c,target:h,orbacSubjectId:_}=e;if(c.boardId===h.boardId&&(c.sectionId||null)===(h.sectionId||null))return Promise.reject();if(a){let e={board_id:c.boardId,new_board_id:h.boardId,old_section_id:c.sectionId||void 0,new_section_id:h.sectionId||void 0,pin_ids:s,orbac_subject_id:_};return r.A.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(p(c)),t(p(h))])).catch(u(n))}{let e=(e,n)=>{t((0,l.J6)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?d.A.BOARD_SECTION_PINS:d.A.BOARDFEED,itemIds:s,itemType:"pin"})),t((0,l.ZT)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?d.A.BOARD_SECTION_PINS:d.A.BOARDFEED,itemIds:s,itemType:"pin"}))};if(e(c,h),h.boardId===c.boardId)if(h.sectionId){let t={section_id:h.sectionId,pins:s,orbac_subject_id:_};return r.A.create("BoardSectionEditResource",t).callUpdate({showError:!1}).then(e=>((o??(0,i.o)().logContextEvent)({event_type:7101,object_id_str:h.sectionId}),e)).catch(t=>{e(h,c),u(n)(t)})}else{let t={section_id:c.sectionId,pins:s,orbac_subject_id:_};return r.A.create("BoardSectionPinsResource",t).callDelete({showError:!1}).catch(t=>{e(h,c),u(n)(t)})}{let t={board_id:h.boardId,section_id:h.sectionId||void 0,pin_ids:s,orbac_subject_id:_};return r.A.create("BulkEditResource",t).callUpdate({showError:!1}).catch(t=>{e(h,c),u(n)(t)})}}})(e,o,t,n).then(()=>h(e,o))}}},96897(e,t,n){function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function i(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function o(e){return{type:"PIN_SAVE",payload:e}}function a(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:t}}}function d({id:e,text:t,nodeId:n}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t,nodeId:n}}}function c({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:t}}}function u({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:t}}}function p(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function h(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}n.d(t,{C4:()=>i,H8:()=>s,J4:()=>o,N6:()=>p,NE:()=>h,WG:()=>c,aP:()=>a,aq:()=>d,bd:()=>u,p8:()=>r,qJ:()=>l})},819515(e,t,n){function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function i(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function o(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function a(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,{PD:()=>l,UN:()=>r,aC:()=>d,dD:()=>s,jI:()=>o,ne:()=>a,uW:()=>i})},504252(e,t,n){n.d(t,{A:()=>r});let r={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},520884(e,t,n){n.d(t,{A:()=>_});var r,i=n(61163),o=n(859471);n(825193);var a=n(963522),l=n(948641),s=n(535273),d=n(538329),c=n(832773),u=n(845754),p=n(562615);let h=(void 0!==r||(r=n(638025)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==r.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function _({boardKey:e,bgColor:t="default",children:n,iconColor:r="subtle",onCreatePincode:_,onOpen:m,sendBoardButtonRef:f,showTooltip:g,size:A="lg"}){(0,o.useEffect)(()=>{(0,i.A)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let[b,y]=(0,o.useState)(!1),[E,v]=(0,o.useState)(null),P=(0,d.A)(),x=(0,l.A)(),I=(0,s.A)(h,e),S={description:I?.description,id:I?.entityId??"",imageUrl:I?.imageCoverUrl,name:I?.name??void 0,type:"board",url:I?.url??void 0},w=e=>{if(x){e&&e.preventDefault(),x();return}b||m(),y(e=>!e)},C=n&&n({active:b,onClick:()=>w()})||(0,p.jsx)(a.K0,{ref:f,accessibilityLabel:P._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:r,onClick:({event:e})=>w(e),selected:b,size:A,tooltip:g?{text:P._('Share board', 'sendBoardFlyout.button.tooltip', 'Tooltip for button to share board')}:void 0});return(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)(a.az,{ref:v,children:C}),b&&(0,p.jsx)(a.Wd,{zIndex:u.u$,children:(0,p.jsx)(a.AM,{anchor:E,idealDirection:"down",onDismiss:()=>w(),positionRelativeToAnchor:!1,size:"flexible",children:(0,p.jsx)(c.A,{component:13216,onCreatePincodeClick:_?()=>{w(),_()}:void 0,onHide:()=>w(),sendShareSurface:5,sendType:"board",sharedObject:S,viewType:5})})})]})}},261682(e,t,n){n.d(t,{A:()=>g});var r,i=n(61163),o=n(859471);n(669897);var a=n(963522),l=n(586733),s=n(948641),d=n(296221),c=n(535273),u=n(538329),p=n(844255),h=n(520884),_=n(564533),m=n(562615);let f=(void 0!==r||(r=n(470166)).hash&&"8d95294efe15498023c69669c6a41e71"!==r.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function g({boardKey:e,color:t,handleCreatePincode:n,iconColor:r,hasBoardToolStyles:g,hasShadow:A,showTooltip:b,size:y="lg"}){(0,o.useEffect)(()=>{(0,i.A)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:E}=(0,l.o)(),v=(0,u.A)(),P=(0,s.A)(),{userAgent:{platform:x}}=(0,p._8)(),I="android"===x,S=(0,o.useRef)(null),w=(0,c.A)(f,e),[C,T]=(0,o.useState)(!1),R=C?void 0:t,O=C?{__style:{backgroundColor:"#e2e2e2"}}:void 0;return(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(h.A,{boardKey:w,iconColor:r,onCreatePincode:n,onOpen:()=>{P?P():(0,_.A)(E)},sendBoardButtonRef:S,showTooltip:b,size:y,children:g?({active:e,onClick:t})=>(0,m.jsx)(a.Rp,{dataTestId:"share-board-button",onTap:t,rounding:500,children:(0,m.jsxs)(a.az,{alignItems:"center",color:e?"selected":R,dangerouslySetInlineStyle:O,display:"flex",elevation:A?"shadowFloating":void 0,height:64,justifyContent:"center",onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),paddingX:4,rounding:500,children:[(0,m.jsx)(a.az,{marginEnd:2,children:(0,m.jsx)(a.In,{accessibilityLabel:v._('Share', 'Board.ShareButton', 'Accessible label for button to share a board'),color:e?"light":"default",icon:I?"share-android":"share",size:20})}),(0,m.jsx)(a.Wu,{color:e?"inverse":"default",children:v._('Share', 'Board.ShareButton', 'Label for button to share a board')})]})}):void 0}),(0,m.jsx)(d.X$,{anchors:{3018:S.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},564533(e,t,n){n.d(t,{A:()=>r});function r(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},176609(e,t,n){n.d(t,{f:()=>b,R:()=>y});var r=n(61163),i=n(859471),o=n(224989),a=n(979638),l=n(669897),s=n(601185),d=n(844255);function c(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}function u(e){return{result:{kind:"Ok",value:e},read:()=>e}}var p=n(260128),h=n(969462),_=n(81920),m=n(562615);let f=(0,i.createContext)(null),g=/(^\/)|:|(\/$)/g,A=/\//g,b=({children:e})=>{(0,i.useEffect)(()=>{(0,r.A)("EntrypointContext","/pws/entrypoint-router/EntrypointContext.tsx")},[]);let t=(0,o.useRelayEnvironment)(),{checkExperiment:n}=(0,s.A)(),l=(0,d._8)(),c=(0,i.useRef)({}),u=(0,i.useCallback)(e=>{let{rootComponent:r,loadedValueState:i}=v(E(c.current,e),e,"Both",t,n,l);return"NotYetRendered"===i.performanceLoggingState.kind&&(i.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:r,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===i.performanceLoggingState.kind){let n=Date.now();(0,_.N9)("entrypointRouter.routeTiming."+e.kind.replace(g,"").replace(A,"_"),n-i.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),i.performanceLoggingState={kind:"Complete"}}},loadedValue:i.loadedValue}},[n,t,l]),h=(0,a.Zp)(),b=(0,i.useCallback)(e=>{v(E(c.current,e),e,"Both",t,n,l),h((0,p.P)(e))},[h,n,t,l]),y=(0,i.useCallback)((e,r)=>{let i=E(c.current,e);"Both"===r&&v(i,e,r,t,n,l)},[n,t,l]),P=(0,i.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:u,preload:y,imperativelyNavigate:b}),[u,b,y]);return(0,m.jsx)(f,{value:P,children:e})};function y(){let e=(0,i.use)(f);if(null==e)throw Error("Missing entrypoint context");return e}function E(e,t){let n=p.A[t.kind];if(null==n)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");let r=n.loader();return e[t.kind]??={rootComponent:c(n.rootComponent()),loadedValueStates:{},loader:(0,l.isPromise)(r)?c(r):u(r)}}function v(e,t,n,r,i,o){var a;let l=JSON.stringify((0,h.A)(t.routeParams)),{loadedValueStates:s,rootComponent:d,loader:p}=e;return{rootComponent:d,loadedValueState:s[l]??=(a=t.kind,setTimeout(()=>{let e=s[l];null!=e&&(0,_.GV)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:a,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){let{result:n}=e;switch(n.kind){case"Pending":return c(n.promise.then(t));case"Ok":return u(t(n.value));case"Err":var r;return{result:{kind:"Err",error:r=n.error},read:()=>{throw r}};default:throw Error("Unexpected case")}}(p,e=>e({routeParams:t.routeParams,relayEnvironment:r,checkExperiment:i,requestContext:o})),performanceLoggingState:{kind:"NotYetRendered"}})}}},260128(e,t,n){n.d(t,{P:()=>o,A:()=>i});var r=n(479123);let i={"/ads/create":{loader:()=>n.e("22278").then(n.bind(n,64829)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("81936"),n.e("71036"),n.e("78815"),n.e("41300")]).then(n.bind(n,527762)).then(e=>e.default)},"/boost/cancel":{loader:()=>n.e("54015").then(n.bind(n,181528)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("23405")]).then(n.bind(n,598735)).then(e=>e.default)},"/boost/failure":{loader:()=>n.e("82567").then(n.bind(n,646162)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("76973")]).then(n.bind(n,461325)).then(e=>e.default)},"/boost/success":{loader:()=>n.e("86942").then(n.bind(n,810793)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("35624")]).then(n.bind(n,907090)).then(e=>e.default)},"/collage-creation-tool":{loader:()=>Promise.all([n.e("92989"),n.e("31623")]).then(n.bind(n,37941)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("86527"),n.e("92989"),n.e("2197"),n.e("75952"),n.e("94714"),n.e("78928"),n.e("25893")]).then(n.bind(n,257253)).then(e=>e.default)},"/comparison/results":{loader:()=>n.e("27441").then(n.bind(n,872018)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("13601"),n.e("51301"),n.e("20223")]).then(n.bind(n,80743)).then(e=>e.default)},"/comparison/select/:id":{loader:()=>n.e("54555").then(n.bind(n,888547)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("13601"),n.e("51301"),n.e("28097")]).then(n.bind(n,342087)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([n.e("91796"),n.e("60441")]).then(n.bind(n,839711)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("98764"),n.e("25704"),n.e("92349"),n.e("223")]).then(n.bind(n,683795)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>n.e("76719").then(n.bind(n,510554)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("24266"),n.e("1549"),n.e("89090"),n.e("27959"),n.e("26983"),n.e("49961"),n.e("77720"),n.e("34565"),n.e("69533")]).then(n.bind(n,140346)).then(e=>e.default)},"/today/":{loader:()=>n.e("15960").then(n.bind(n,847584)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("98764"),n.e("35892"),n.e("25704"),n.e("8178"),n.e("92349"),n.e("51238")]).then(n.bind(n,364053)).then(e=>e.default)}};function o(e){return(0,r.tW)(e.kind,e.routeParams)}},969462(e,t,n){n.d(t,{A:()=>function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let n=Object.keys(t).sort(),r={};for(let i=0;i<n.length;i++)r[n[i]]=e(t[n[i]]);return r}})},567365(e,t,n){n.d(t,{A:()=>i});var r=n(979638);function i(){let e=(0,r.g)(),t=(0,r.zy)(),n=Object.entries(e).reduce((e,[t,n])=>(n&&(e[n]=t),e),{});return t.pathname.split("/").map(e=>n[e]?`:${n[e]}`:e).join("/")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/90806-93aec24771235790.mjs.map